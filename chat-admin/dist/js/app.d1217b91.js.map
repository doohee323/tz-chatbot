{"version":3,"file":"js/app.d1217b91.js","mappings":"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","sources":["webpack://chat-gateway-frontend/./src/App.vue","webpack://chat-gateway-frontend/src/App.vue","webpack://chat-gateway-frontend/./src/App.vue?c036","webpack://chat-gateway-frontend/./src/App.vue?0e40","webpack://chat-gateway-frontend/./src/views/Intro.vue","webpack://chat-gateway-frontend/./src/config/apiConfig.js","webpack://chat-gateway-frontend/src/views/Intro.vue","webpack://chat-gateway-frontend/./src/views/Intro.vue?21ca","webpack://chat-gateway-frontend/./src/views/Intro.vue?7188","webpack://chat-gateway-frontend/./src/views/About.vue","webpack://chat-gateway-frontend/src/views/About.vue","webpack://chat-gateway-frontend/./src/views/About.vue?0c53","webpack://chat-gateway-frontend/./src/views/About.vue?e078","webpack://chat-gateway-frontend/./src/views/Chat.vue","webpack://chat-gateway-frontend/src/views/Chat.vue","webpack://chat-gateway-frontend/./src/views/Chat.vue?7169","webpack://chat-gateway-frontend/./src/views/Chat.vue?19d9","webpack://chat-gateway-frontend/./src/views/Login.vue","webpack://chat-gateway-frontend/src/views/Login.vue","webpack://chat-gateway-frontend/./src/views/Login.vue?3cb7","webpack://chat-gateway-frontend/./src/views/Login.vue?a6ee","webpack://chat-gateway-frontend/./src/views/Register.vue","webpack://chat-gateway-frontend/src/views/Register.vue","webpack://chat-gateway-frontend/./src/views/Register.vue?517e","webpack://chat-gateway-frontend/./src/views/Register.vue?65fd","webpack://chat-gateway-frontend/./src/views/Admin.vue","webpack://chat-gateway-frontend/src/views/Admin.vue","webpack://chat-gateway-frontend/./src/views/Admin.vue?2e5e","webpack://chat-gateway-frontend/./src/views/Admin.vue?e14c","webpack://chat-gateway-frontend/./src/views/AdminSystems.vue","webpack://chat-gateway-frontend/src/views/AdminSystems.vue","webpack://chat-gateway-frontend/./src/views/AdminSystems.vue?6e99","webpack://chat-gateway-frontend/./src/views/AdminSystems.vue?4045","webpack://chat-gateway-frontend/./src/views/Profile.vue","webpack://chat-gateway-frontend/src/views/Profile.vue","webpack://chat-gateway-frontend/./src/views/Profile.vue?3bbc","webpack://chat-gateway-frontend/./src/views/Profile.vue?af93","webpack://chat-gateway-frontend/./src/router/index.js","webpack://chat-gateway-frontend/./src/locales/ko.js","webpack://chat-gateway-frontend/./src/locales/en.js","webpack://chat-gateway-frontend/./src/i18n.js","webpack://chat-gateway-frontend/./src/main.js","webpack://chat-gateway-frontend/webpack/bootstrap","webpack://chat-gateway-frontend/webpack/runtime/chunk loaded","webpack://chat-gateway-frontend/webpack/runtime/compat get default export","webpack://chat-gateway-frontend/webpack/runtime/define property getters","webpack://chat-gateway-frontend/webpack/runtime/global","webpack://chat-gateway-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://chat-gateway-frontend/webpack/runtime/jsonp chunk loading","webpack://chat-gateway-frontend/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',{staticClass:\"app-header\"},[_c('div',{staticClass:\"nav-left\"},[_c('router-link',{staticClass:\"logo\",attrs:{\"to\":\"/\"}},[_vm._v(_vm._s(_vm.$t('menu.appName')))]),(_vm.isAdminArea)?[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin/systems\"}},[_vm._v(_vm._s(_vm.$t('menu.chatManage')))]),_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin\"}},[_vm._v(_vm._s(_vm.$t('menu.chatList')))])]:_vm._e()],2),_c('nav',{staticClass:\"nav-right\"},[_c('div',{staticClass:\"lang-dropdown\"},[_c('button',{staticClass:\"btn-lang\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showLangMenu = !_vm.showLangMenu}}},[_vm._v(\" \"+_vm._s(_vm.currentLangLabel)+\"  \")]),(_vm.showLangMenu)?_c('div',{staticClass:\"lang-menu\",on:{\"click\":function($event){_vm.showLangMenu = false}}},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$changeLanguage('ko')}}},[_vm._v(\"\")]),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$changeLanguage('en')}}},[_vm._v(\"English\")])]):_vm._e()]),(_vm.isAdminArea)?[(_vm.adminUsername)?_c('router-link',{staticClass:\"admin-username\",attrs:{\"to\":\"/admin/profile\"}},[_vm._v(_vm._s(_vm.adminUsername))]):_vm._e(),_c('button',{staticClass:\"btn-logout\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.logout}},[_vm._v(_vm._s(_vm.$t('menu.logout')))])]:[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/about\"}},[_vm._v(_vm._s(_vm.$t('menu.about')))]),_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/register\"}},[_vm._v(_vm._s(_vm.$t('menu.register')))]),_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/login\"}},[_vm._v(_vm._s(_vm.$t('menu.login')))])]],2)]),_c('main',{staticClass:\"app-main\"},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <header class=\"app-header\">\n      <div class=\"nav-left\">\n        <router-link to=\"/\" class=\"logo\">{{ $t('menu.appName') }}</router-link>\n        <template v-if=\"isAdminArea\">\n          <router-link to=\"/admin/systems\" class=\"nav-link\">{{ $t('menu.chatManage') }}</router-link>\n          <router-link to=\"/admin\" class=\"nav-link\">{{ $t('menu.chatList') }}</router-link>\n        </template>\n      </div>\n      <nav class=\"nav-right\">\n        <div class=\"lang-dropdown\">\n          <button type=\"button\" class=\"btn-lang\" @click=\"showLangMenu = !showLangMenu\">\n            {{ currentLangLabel }} \n          </button>\n          <div v-if=\"showLangMenu\" class=\"lang-menu\" @click=\"showLangMenu = false\">\n            <a href=\"#\" @click.prevent=\"$changeLanguage('ko')\"></a>\n            <a href=\"#\" @click.prevent=\"$changeLanguage('en')\">English</a>\n          </div>\n        </div>\n        <template v-if=\"isAdminArea\">\n          <router-link v-if=\"adminUsername\" to=\"/admin/profile\" class=\"admin-username\">{{ adminUsername }}</router-link>\n          <button type=\"button\" class=\"btn-logout\" @click=\"logout\">{{ $t('menu.logout') }}</button>\n        </template>\n        <template v-else>\n          <router-link to=\"/about\" class=\"nav-link\">{{ $t('menu.about') }}</router-link>\n          <router-link to=\"/register\" class=\"nav-link\">{{ $t('menu.register') }}</router-link>\n          <router-link to=\"/login\" class=\"nav-link\">{{ $t('menu.login') }}</router-link>\n        </template>\n      </nav>\n    </header>\n    <main class=\"app-main\">\n      <router-view />\n    </main>\n  </div>\n</template>\n\n<script>\nconst TOKEN_KEY = 'admin_token'\n\nfunction parseUsernameFromToken(token) {\n  if (!token) return null\n  try {\n    const parts = token.split('.')\n    if (parts.length !== 3) return null\n    const payload = JSON.parse(atob(parts[1].replace(/-/g, '+').replace(/_/g, '/')))\n    return payload.sub || null\n  } catch {\n    return null\n  }\n}\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      showLangMenu: false\n    }\n  },\n  computed: {\n    currentLangLabel() {\n      return this.$i18n.locale === 'ko' ? '' : 'English'\n    },\n    isAdminArea() {\n      return this.$route.path.startsWith('/admin')\n    },\n    adminUsername() {\n      this.$route.path // re-evaluate when route changes (e.g. after login)\n      return parseUsernameFromToken(localStorage.getItem(TOKEN_KEY))\n    }\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem(TOKEN_KEY)\n      this.$router.replace('/login')\n    }\n  }\n}\n</script>\n\n<style>\n* { box-sizing: border-box; }\nbody { margin: 0; font-family: system-ui, sans-serif; background: #0f172a; }\n.app-header {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 56px;\n  background: var(--bg, #0f172a);\n  border-bottom: 1px solid rgba(255,255,255,0.06);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 1.5rem;\n  z-index: 100;\n}\n.app-header .logo {\n  font-size: 1.1rem;\n  font-weight: 700;\n  color: #f1f5f9;\n  text-decoration: none;\n}\n.app-header .logo:hover { color: #38bdf8; }\n.nav-left { display: flex; align-items: center; gap: 1rem; }\n.nav-right { display: flex; align-items: center; gap: 1rem; }\n.admin-username {\n  color: #94a3b8;\n  font-size: 0.95rem;\n  padding: 0.4rem 0.75rem;\n  text-decoration: none;\n  border-radius: 8px;\n  border: 1px solid rgba(56, 189, 248, 0.25);\n}\n.admin-username:hover { color: #38bdf8; background: rgba(56, 189, 248, 0.1); }\n.nav-link {\n  color: #94a3b8;\n  text-decoration: none;\n  font-size: 0.95rem;\n  padding: 0.4rem 0.75rem;\n  border-radius: 8px;\n  border: 1px solid rgba(56, 189, 248, 0.25);\n}\n.nav-link:hover { color: #38bdf8; background: rgba(56, 189, 248, 0.1); }\n.btn-logout { padding: 0.4rem 0.75rem; background: rgba(100, 116, 139, 0.3); color: #94a3b8; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; cursor: pointer; font-size: 0.95rem; }\n.btn-logout:hover { background: rgba(100, 116, 139, 0.5); color: #fff; }\n.lang-dropdown { position: relative; }\n.btn-lang { padding: 0.4rem 0.75rem; background: transparent; color: #94a3b8; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; cursor: pointer; font-size: 0.9rem; }\n.btn-lang:hover { color: #fff; background: rgba(255,255,255,0.05); }\n.lang-menu { position: absolute; top: 100%; right: 0; margin-top: 4px; min-width: 120px; background: #1e293b; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; padding: 4px; z-index: 50; }\n.lang-menu a { display: block; padding: 8px 12px; color: #94a3b8; text-decoration: none; font-size: 0.9rem; border-radius: 4px; }\n.lang-menu a:hover { color: #fff; background: rgba(56, 189, 248, 0.2); }\n.app-main { padding-top: 56px; min-height: 100vh; background: #0f172a; }\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9229b1be\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=9229b1be&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"intro wrap\"},[_c('p',{staticClass:\"tagline\"},[_vm._v(\"Unified chat API in front of Dify. Part of the tz-chatbot stack.\")]),_vm._m(0),_vm._m(1),_c('h2',{staticClass:\"section-title\"},[_vm._v(\"1. Workflow\")]),_c('p',{staticClass:\"tagline tagline-sm\"},[_vm._v(\"Check out this repo, use sample apps (DrillQuiz / CoinTutor) as reference to register and apply your app.\")]),_vm._m(2),_c('div',{staticClass:\"links\"},[_c('router-link',{staticClass:\"link-btn\",attrs:{\"to\":\"/about\"}},[_vm._v(_vm._s(_vm.$t('intro.aboutDetail')))]),_c('a',{attrs:{\"href\":\"https://github.com/doohee323/tz-chatbot\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"GitHub source\")]),_c('a',{attrs:{\"href\":_vm.apiBase + '/docs',\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"API docs (OpenAPI)\")]),_c('router-link',{attrs:{\"to\":\"/chat\"}},[_vm._v(\"Chat page\")])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('h2',[_vm._v(\"What this is\")]),_c('p',[_vm._v(\" This service is the \"),_c('strong',[_vm._v(\"TZ-Chat Gateway\")]),_vm._v(\": a single API and chat UI for multiple apps (e.g. DrillQuiz, CoinTutor). It sits in front of \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://dify.ai\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Dify\")]),_vm._v(\", manages users and conversations, and can sync chat history to its own database for support and analytics. Sample integration: \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://devops.drillquiz.com/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"devops.drillquiz.com\")]),_vm._v(\" (DrillQuiz). \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('h2',[_vm._v(\"Project: tz-chatbot\")]),_c('p',[_vm._v(\" The full stack runs on Kubernetes: \"),_c('strong',[_vm._v(\"MinIO\")]),_vm._v(\" (object store), \"),_c('strong',[_vm._v(\"Qdrant\")]),_vm._v(\" (vector DB), \"),_c('strong',[_vm._v(\"RAG backends\")]),_vm._v(\" (CoinTutor / DrillQuiz), \"),_c('strong',[_vm._v(\"Dify\")]),_vm._v(\" (chatbots), and this \"),_c('strong',[_vm._v(\"TZ-Chat Gateway\")]),_vm._v(\". RAG ingestion runs on a schedule; Dify apps call the RAG backends as tools. \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"diagram\"},[_c('div',{staticClass:\"diagram-title\"},[_vm._v(\"Flow: add your app, then use chat\")]),_c('div',{staticClass:\"flow-row\"},[_c('span',{staticClass:\"flow-step\"},[_vm._v(\"1. Check out this code\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"2. Register your app (reference: DrillQuiz / CoinTutor)\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"3. Get token & open chat page\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"4. Chat\")])])])\n}]\n\nexport { render, staticRenderFns }","/**\n * API config for TZ-Chat Gateway frontend (tz-cointutor style)\n * VUE_APP_API_BASE: API base URL for links to /docs, /cache (empty = same origin)\n * VUE_APP_CHAT_GATEWAY_URL: Chat API base for /v1/conversations, /v1/chat etc. (empty = same origin, for dev proxy)\n */\nconst ENVIRONMENT = process.env.VUE_APP_ENVIRONMENT || 'development'\nconst API_BASE = process.env.VUE_APP_API_BASE || ''\nconst _chatUrl = (process.env.VUE_APP_CHAT_GATEWAY_URL || '').replace(/\\/$/, '')\nconst _fromEnv = _chatUrl && !_chatUrl.includes('PLACEHOLDER')\nconst CHAT_GATEWAY_URL = _fromEnv ? _chatUrl : (() => {\n  // Fallback: derive from current host (chat-admin.drillquiz.com  https://chat.drillquiz.com)\n  if (typeof window !== 'undefined' && window.location?.hostname?.includes('chat-admin')) {\n    const host = window.location.hostname.replace(/^chat-admin/, 'chat')\n    return `${window.location.protocol}//${host}`\n  }\n  return ''\n})()\n\nconst apiBase = (typeof window !== 'undefined' && !API_BASE)\n  ? window.location.origin\n  : API_BASE\n\n/** Base URL for chat API (/v1/conversations, /v1/chat). Empty = same origin (dev proxy). */\nconst chatApiBase = CHAT_GATEWAY_URL\n\nexport {\n  ENVIRONMENT,\n  apiBase,\n  chatApiBase\n}\n","<template>\n  <div class=\"intro wrap\">\n    <p class=\"tagline\">Unified chat API in front of Dify. Part of the tz-chatbot stack.</p>\n\n    <div class=\"card\">\n      <h2>What this is</h2>\n      <p>\n        This service is the <strong>TZ-Chat Gateway</strong>: a single API and chat UI for multiple apps (e.g. DrillQuiz, CoinTutor).\n        It sits in front of <a href=\"https://dify.ai\" target=\"_blank\" rel=\"noopener\" class=\"link\">Dify</a>,\n        manages users and conversations, and can sync chat history to its own database for support and analytics.\n        Sample integration: <a href=\"https://devops.drillquiz.com/\" target=\"_blank\" rel=\"noopener\" class=\"link\">devops.drillquiz.com</a> (DrillQuiz).\n      </p>\n    </div>\n\n    <div class=\"card\">\n      <h2>Project: tz-chatbot</h2>\n      <p>\n        The full stack runs on Kubernetes: <strong>MinIO</strong> (object store), <strong>Qdrant</strong> (vector DB),\n        <strong>RAG backends</strong> (CoinTutor / DrillQuiz), <strong>Dify</strong> (chatbots), and this <strong>TZ-Chat Gateway</strong>.\n        RAG ingestion runs on a schedule; Dify apps call the RAG backends as tools.\n      </p>\n    </div>\n\n    <h2 class=\"section-title\">1. Workflow</h2>\n    <p class=\"tagline tagline-sm\">Check out this repo, use sample apps (DrillQuiz / CoinTutor) as reference to register and apply your app.</p>\n    <div class=\"diagram\">\n      <div class=\"diagram-title\">Flow: add your app, then use chat</div>\n      <div class=\"flow-row\">\n        <span class=\"flow-step\">1. Check out this code</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">2. Register your app (reference: DrillQuiz / CoinTutor)</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">3. Get token & open chat page</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">4. Chat</span>\n      </div>\n    </div>\n\n    <div class=\"links\">\n      <router-link to=\"/about\" class=\"link-btn\">{{ $t('intro.aboutDetail') }}</router-link>\n      <a href=\"https://github.com/doohee323/tz-chatbot\" target=\"_blank\" rel=\"noopener\">GitHub source</a>\n      <a :href=\"apiBase + '/docs'\" target=\"_blank\" rel=\"noopener\">API docs (OpenAPI)</a>\n      <router-link to=\"/chat\">Chat page</router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { apiBase } from '../config/apiConfig'\n\nexport default {\n  name: 'Intro',\n  data() {\n    return {\n      apiBase\n    }\n  }\n}\n</script>\n\n<style scoped>\n.intro {\n  font-family: \"DM Sans\", system-ui, -apple-system, sans-serif;\n  min-height: 100vh;\n  background: var(--bg, #0f172a);\n  color: var(--text, #f1f5f9);\n}\n.wrap { max-width: 900px; margin: 0 auto; padding: 1rem 1.5rem 3rem; }\n.tagline { color: var(--muted, #94a3b8); font-size: 1.05rem; margin-bottom: 2rem; }\n.tagline-sm { margin-top: 0; margin-bottom: 0.75rem; }\n.card {\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.25rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.card h2 { font-size: 1.1rem; font-weight: 600; margin: 0 0 0.75rem; color: var(--accent, #38bdf8); }\n.card p { margin: 0; color: var(--muted, #94a3b8); font-size: 0.95rem; }\n.link { color: #38bdf8; }\n.section-title { font-size: 1.25rem; font-weight: 600; margin: 2.5rem 0 1rem; }\n.diagram {\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 1.25rem 1.5rem;\n  margin-bottom: 1.25rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.diagram-title { font-size: 0.8rem; font-weight: 600; color: #38bdf8; margin-bottom: 0.75rem; }\n.flow-row { display: flex; align-items: center; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }\n.flow-step {\n  background: var(--bg, #0f172a);\n  border: 1px solid rgba(56, 189, 248, 0.35);\n  border-radius: 8px;\n  padding: 0.6rem 1rem;\n  font-size: 0.9rem;\n}\n.flow-arrow { color: var(--muted, #94a3b8); }\n.links { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 2rem; }\n.links a {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.6rem 1rem;\n  background: var(--surface, #1e293b);\n  color: #38bdf8;\n  text-decoration: none;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  border: 1px solid rgba(56, 189, 248, 0.25);\n}\n.links a:hover { background: rgba(56, 189, 248, 0.1); }\n.links .link-btn { text-decoration: none; color: inherit; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Intro.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Intro.vue?vue&type=template&id=24384ca0&scoped=true\"\nimport script from \"./Intro.vue?vue&type=script&lang=js\"\nexport * from \"./Intro.vue?vue&type=script&lang=js\"\nimport style0 from \"./Intro.vue?vue&type=style&index=0&id=24384ca0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24384ca0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about wrap\"},[_c('h1',[_vm._v(\"TZ-Chat Gateway\")]),_c('p',{staticClass:\"tagline\"},[_vm._v(\"Unified chat API in front of Dify. Part of the tz-chatbot stack.\")]),_vm._m(0),_vm._m(1),_c('h2',{staticClass:\"section-title\"},[_vm._v(\"1. Workflow\")]),_c('p',{staticClass:\"tagline-sm\"},[_vm._v(\"Check out this repo, use sample apps (DrillQuiz / CoinTutor) as reference to register and apply your app.\")]),_vm._m(2),_c('h2',{staticClass:\"section-title\"},[_vm._v(\"2. How the app operates\")]),_c('p',{staticClass:\"tagline-sm\"},[_vm._v(\"Request-to-response processing order\")]),_vm._m(3),_c('h2',{staticClass:\"section-title\"},[_vm._v(\"3. Architecture\")]),_c('p',{staticClass:\"tagline-sm\"},[_vm._v(\"tz-chatbot stack components\")]),_vm._m(4),_c('h2',{staticClass:\"section-title\"},[_vm._v(\"4. Apply to your project\")]),_c('p',{staticClass:\"tagline-sm\"},[_vm._v(\"Steps to add chat to an existing project (e.g. Vue app)\")]),_vm._m(5),_c('div',{staticClass:\"links\"},[_c('a',{attrs:{\"href\":\"https://github.com/doohee323/tz-chatbot\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"GitHub source\")]),_c('a',{attrs:{\"href\":\"https://devops.drillquiz.com/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Sample site (DrillQuiz)\")]),_c('a',{attrs:{\"href\":_vm.apiBase + '/docs',\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"API docs (OpenAPI)\")]),_c('router-link',{attrs:{\"to\":\"/chat\"}},[_vm._v(\"Chat page\")]),(_vm.apiBase)?_c('a',{attrs:{\"href\":_vm.apiBase + '/cache',\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Cache / history (API key required)\")]):_vm._e()],1),_vm._m(6)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('h2',[_vm._v(\"What this is\")]),_c('p',[_vm._v(\" This service is the \"),_c('strong',[_vm._v(\"TZ-Chat Gateway\")]),_vm._v(\": a single API and chat UI for multiple apps (e.g. DrillQuiz, CoinTutor). It sits in front of \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://dify.ai\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"Dify\")]),_vm._v(\", manages users and conversations, and can sync chat history to its own database for support and analytics. Sample integration: \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://devops.drillquiz.com/\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"devops.drillquiz.com\")]),_vm._v(\" (DrillQuiz). \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('h2',[_vm._v(\"Project: tz-chatbot\")]),_c('p',[_vm._v(\" The full stack runs on Kubernetes: \"),_c('strong',[_vm._v(\"MinIO\")]),_vm._v(\" (object store), \"),_c('strong',[_vm._v(\"Qdrant\")]),_vm._v(\" (vector DB), \"),_c('strong',[_vm._v(\"RAG backends\")]),_vm._v(\" (CoinTutor / DrillQuiz), \"),_c('strong',[_vm._v(\"Dify\")]),_vm._v(\" (chatbots), and this \"),_c('strong',[_vm._v(\"TZ-Chat Gateway\")]),_vm._v(\". RAG ingestion runs on a schedule; Dify apps call the RAG backends as tools. \")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"diagram\"},[_c('div',{staticClass:\"diagram-title\"},[_vm._v(\"Flow: add your app, then use chat\")]),_c('div',{staticClass:\"flow-row\"},[_c('span',{staticClass:\"flow-step\"},[_vm._v(\"1. Check out this code\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"2. Register your app (reference: DrillQuiz / CoinTutor)\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"3. Get token & open chat page\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"4. Chat\")])]),_c('div',{staticClass:\"flow-row flow-detail\"},[_c('span',{staticClass:\"flow-step\"},[_vm._v(\"You add and register your app; you do not choose from existing apps. Token: issued after your app's login, or call \"),_c('code',[_vm._v(\"/v1/chat-token\")]),_vm._v(\" with API Key.\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"diagram\"},[_c('div',{staticClass:\"diagram-title\"},[_vm._v(\"Request  response sequence\")]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"Client\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Send message from chat UI (JWT or API Key)\")])]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"\")]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"TZ-Chat Gateway\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Validate JWT/API Key  sync conversation/messages to DB  proxy to Dify API\")])]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"\")]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"Dify\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Run DrillQuiz or CoinTutor app (calls RAG tool when needed)\")])]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"\")]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"RAG\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Qdrant + RAG Backend search  return results to Dify (required)\")])]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"\")]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"Response\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Dify  TZ-Chat Gateway  client (streaming or normal response)\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"diagram\"},[_c('div',{staticClass:\"diagram-title\"},[_vm._v(\"Components and relationships\")]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"Ingress (TLS / routing)\")]),_c('div',{staticClass:\"arch-arrow-row\"},[_vm._v(\"\")]),_c('div',{staticClass:\"arch-grid\"},[_c('div',{staticClass:\"arch-box entry\"},[_vm._v(\"TZ-Chat Gateway\"),_c('br'),_c('small',[_vm._v(\"(FastAPI)\")])]),_c('div',{staticClass:\"arch-box gw\"},[_vm._v(\"Dify\"),_c('br'),_c('small',[_vm._v(\"DrillQuiz / CoinTutor\")])]),_c('div',{staticClass:\"arch-box app\"},[_vm._v(\"RAG Backend\"),_c('br'),_c('small',[_vm._v(\"CoinTutor, DrillQuiz\")])]),_c('div',{staticClass:\"arch-box data\"},[_vm._v(\"Qdrant\"),_c('br'),_c('small',[_vm._v(\"vector DB\")])]),_c('div',{staticClass:\"arch-box data\"},[_vm._v(\"MinIO\"),_c('br'),_c('small',[_vm._v(\"object store\")])])]),_c('p',{staticClass:\"arch-note\"},[_vm._v(\"TZ-Chat Gateway: auth, conversation management, Dify proxy. Dify: calls RAG as tool. RAG: MinIO docs + Qdrant vector search.\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"diagram\"},[_c('div',{staticClass:\"diagram-title\"},[_vm._v(\"Integration order\")]),_c('div',{staticClass:\"flow-row\"},[_c('span',{staticClass:\"flow-step\"},[_vm._v(\"1. Deploy TZ-Chat Gateway\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"2. Configure env\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"3. Backend token\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"4. Frontend widget\")]),_c('span',{staticClass:\"flow-arrow\"},[_vm._v(\"\")]),_c('span',{staticClass:\"flow-step\"},[_vm._v(\"5. CORS & CSP\")])]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"1. Deploy\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Run TZ-Chat Gateway on server (Docker/K8s or \"),_c('code',[_vm._v(\"./gateway.sh\")]),_vm._v(\"). Set JWT secret, Dify API key, \"),_c('code',[_vm._v(\"CHAT_GATEWAY_API_KEY\")]),_vm._v(\" in \"),_c('code',[_vm._v(\".env\")]),_vm._v(\".\")])]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"2. Env\")]),_c('span',{staticClass:\"seq-box\"},[_c('code',[_vm._v(\"CHAT_GATEWAY_JWT_SECRET\")]),_vm._v(\", \"),_c('code',[_vm._v(\"CHAT_GATEWAY_API_KEY\")]),_vm._v(\", \"),_c('code',[_vm._v(\"DIFY_*_API_KEY\")]),_vm._v(\". See \"),_c('code',[_vm._v(\".env.example\")]),_vm._v(\", \"),_c('code',[_vm._v(\"scripts/gen-env-values.sh\")]),_vm._v(\".\")])]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"3. Backend\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Issue JWT for logged-in users from your backend, or have frontend call \"),_c('code',[_vm._v(\"GET /v1/chat-token?system_id=...&user_id=...\")]),_vm._v(\" with \"),_c('code',[_vm._v(\"X-API-Key\")]),_vm._v(\".\")])]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"4. Frontend\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Copy \"),_c('code',[_vm._v(\"sample/ChatWidget.vue\")]),_vm._v(\"  wire \"),_c('code',[_vm._v(\"authService\")]),_vm._v(\" (getUserSync, subscribe)  add \"),_c('code',[_vm._v(\"<ChatWidget />\")]),_vm._v(\" in App.vue. Set \"),_c('code',[_vm._v(\"VUE_APP_CHAT_GATEWAY_URL\")]),_vm._v(\", \"),_c('code',[_vm._v(\"VUE_APP_CHAT_GATEWAY_API_KEY\")]),_vm._v(\".\")])]),_c('div',{staticClass:\"seq-row\"},[_c('span',{staticClass:\"seq-label\"},[_vm._v(\"5. CORSCSP\")]),_c('span',{staticClass:\"seq-box\"},[_vm._v(\"Allow your project domain in TZ-Chat Gateway (\"),_c('code',[_vm._v(\"ALLOWED_CHAT_TOKEN_ORIGINS\")]),_vm._v(\"). If the app has CSP, add TZ-Chat Gateway URL to \"),_c('code',[_vm._v(\"connect-src\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"frame-src\")]),_vm._v(\".\")])]),_c('p',{staticClass:\"arch-note\"},[_vm._v(\" Full steps: \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://github.com/doohee323/tz-chatbot/blob/main/chat-gateway/sample/INTEGRATION.md\",\"target\":\"_blank\",\"rel\":\"noopener\"}},[_vm._v(\"sample/INTEGRATION.md\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticClass:\"footer\"},[_vm._v(\" Chat page requires a valid JWT (\"),_c('code',[_vm._v(\"?token=...\")]),_vm._v(\"). Use the chat from DrillQuiz or CoinTutor, or obtain a token via \"),_c('code',[_vm._v(\"GET /v1/chat-token\")]),_vm._v(\" with \"),_c('code',[_vm._v(\"X-API-Key\")]),_vm._v(\". \")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about wrap\">\n    <h1>TZ-Chat Gateway</h1>\n    <p class=\"tagline\">Unified chat API in front of Dify. Part of the tz-chatbot stack.</p>\n\n    <div class=\"card\">\n      <h2>What this is</h2>\n      <p>\n        This service is the <strong>TZ-Chat Gateway</strong>: a single API and chat UI for multiple apps (e.g. DrillQuiz, CoinTutor).\n        It sits in front of <a href=\"https://dify.ai\" target=\"_blank\" rel=\"noopener\" class=\"link\">Dify</a>,\n        manages users and conversations, and can sync chat history to its own database for support and analytics.\n        Sample integration: <a href=\"https://devops.drillquiz.com/\" target=\"_blank\" rel=\"noopener\" class=\"link\">devops.drillquiz.com</a> (DrillQuiz).\n      </p>\n    </div>\n\n    <div class=\"card\">\n      <h2>Project: tz-chatbot</h2>\n      <p>\n        The full stack runs on Kubernetes: <strong>MinIO</strong> (object store), <strong>Qdrant</strong> (vector DB),\n        <strong>RAG backends</strong> (CoinTutor / DrillQuiz), <strong>Dify</strong> (chatbots), and this <strong>TZ-Chat Gateway</strong>.\n        RAG ingestion runs on a schedule; Dify apps call the RAG backends as tools.\n      </p>\n    </div>\n\n    <h2 class=\"section-title\">1. Workflow</h2>\n    <p class=\"tagline-sm\">Check out this repo, use sample apps (DrillQuiz / CoinTutor) as reference to register and apply your app.</p>\n    <div class=\"diagram\">\n      <div class=\"diagram-title\">Flow: add your app, then use chat</div>\n      <div class=\"flow-row\">\n        <span class=\"flow-step\">1. Check out this code</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">2. Register your app (reference: DrillQuiz / CoinTutor)</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">3. Get token &amp; open chat page</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">4. Chat</span>\n      </div>\n      <div class=\"flow-row flow-detail\">\n        <span class=\"flow-step\">You add and register your app; you do not choose from existing apps. Token: issued after your app's login, or call <code>/v1/chat-token</code> with API Key.</span>\n      </div>\n    </div>\n\n    <h2 class=\"section-title\">2. How the app operates</h2>\n    <p class=\"tagline-sm\">Request-to-response processing order</p>\n    <div class=\"diagram\">\n      <div class=\"diagram-title\">Request  response sequence</div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">Client</span>\n        <span class=\"seq-box\">Send message from chat UI (JWT or API Key)</span>\n      </div>\n      <div class=\"arch-arrow-row\"></div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">TZ-Chat Gateway</span>\n        <span class=\"seq-box\">Validate JWT/API Key  sync conversation/messages to DB  proxy to Dify API</span>\n      </div>\n      <div class=\"arch-arrow-row\"></div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">Dify</span>\n        <span class=\"seq-box\">Run DrillQuiz or CoinTutor app (calls RAG tool when needed)</span>\n      </div>\n      <div class=\"arch-arrow-row\"></div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">RAG</span>\n        <span class=\"seq-box\">Qdrant + RAG Backend search  return results to Dify (required)</span>\n      </div>\n      <div class=\"arch-arrow-row\"></div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">Response</span>\n        <span class=\"seq-box\">Dify  TZ-Chat Gateway  client (streaming or normal response)</span>\n      </div>\n    </div>\n\n    <h2 class=\"section-title\">3. Architecture</h2>\n    <p class=\"tagline-sm\">tz-chatbot stack components</p>\n    <div class=\"diagram\">\n      <div class=\"diagram-title\">Components and relationships</div>\n      <div class=\"arch-arrow-row\">Ingress (TLS / routing)</div>\n      <div class=\"arch-arrow-row\"></div>\n      <div class=\"arch-grid\">\n        <div class=\"arch-box entry\">TZ-Chat Gateway<br><small>(FastAPI)</small></div>\n        <div class=\"arch-box gw\">Dify<br><small>DrillQuiz / CoinTutor</small></div>\n        <div class=\"arch-box app\">RAG Backend<br><small>CoinTutor, DrillQuiz</small></div>\n        <div class=\"arch-box data\">Qdrant<br><small>vector DB</small></div>\n        <div class=\"arch-box data\">MinIO<br><small>object store</small></div>\n      </div>\n      <p class=\"arch-note\">TZ-Chat Gateway: auth, conversation management, Dify proxy. Dify: calls RAG as tool. RAG: MinIO docs + Qdrant vector search.</p>\n    </div>\n\n    <h2 class=\"section-title\">4. Apply to your project</h2>\n    <p class=\"tagline-sm\">Steps to add chat to an existing project (e.g. Vue app)</p>\n    <div class=\"diagram\">\n      <div class=\"diagram-title\">Integration order</div>\n      <div class=\"flow-row\">\n        <span class=\"flow-step\">1. Deploy TZ-Chat Gateway</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">2. Configure env</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">3. Backend token</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">4. Frontend widget</span>\n        <span class=\"flow-arrow\"></span>\n        <span class=\"flow-step\">5. CORS &amp; CSP</span>\n      </div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">1. Deploy</span>\n        <span class=\"seq-box\">Run TZ-Chat Gateway on server (Docker/K8s or <code>./gateway.sh</code>). Set JWT secret, Dify API key, <code>CHAT_GATEWAY_API_KEY</code> in <code>.env</code>.</span>\n      </div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">2. Env</span>\n        <span class=\"seq-box\"><code>CHAT_GATEWAY_JWT_SECRET</code>, <code>CHAT_GATEWAY_API_KEY</code>, <code>DIFY_*_API_KEY</code>. See <code>.env.example</code>, <code>scripts/gen-env-values.sh</code>.</span>\n      </div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">3. Backend</span>\n        <span class=\"seq-box\">Issue JWT for logged-in users from your backend, or have frontend call <code>GET /v1/chat-token?system_id=...&amp;user_id=...</code> with <code>X-API-Key</code>.</span>\n      </div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">4. Frontend</span>\n        <span class=\"seq-box\">Copy <code>sample/ChatWidget.vue</code>  wire <code>authService</code> (getUserSync, subscribe)  add <code>&lt;ChatWidget /&gt;</code> in App.vue. Set <code>VUE_APP_CHAT_GATEWAY_URL</code>, <code>VUE_APP_CHAT_GATEWAY_API_KEY</code>.</span>\n      </div>\n      <div class=\"seq-row\">\n        <span class=\"seq-label\">5. CORSCSP</span>\n        <span class=\"seq-box\">Allow your project domain in TZ-Chat Gateway (<code>ALLOWED_CHAT_TOKEN_ORIGINS</code>). If the app has CSP, add TZ-Chat Gateway URL to <code>connect-src</code> and <code>frame-src</code>.</span>\n      </div>\n      <p class=\"arch-note\">\n        Full steps: <a href=\"https://github.com/doohee323/tz-chatbot/blob/main/chat-gateway/sample/INTEGRATION.md\" target=\"_blank\" rel=\"noopener\" class=\"link\">sample/INTEGRATION.md</a>\n      </p>\n    </div>\n\n    <div class=\"links\">\n      <a href=\"https://github.com/doohee323/tz-chatbot\" target=\"_blank\" rel=\"noopener\">GitHub source</a>\n      <a href=\"https://devops.drillquiz.com/\" target=\"_blank\" rel=\"noopener\">Sample site (DrillQuiz)</a>\n      <a :href=\"apiBase + '/docs'\" target=\"_blank\" rel=\"noopener\">API docs (OpenAPI)</a>\n      <router-link to=\"/chat\">Chat page</router-link>\n      <a v-if=\"apiBase\" :href=\"apiBase + '/cache'\" target=\"_blank\" rel=\"noopener\">Cache / history (API key required)</a>\n    </div>\n\n    <p class=\"footer\">\n      Chat page requires a valid JWT (<code>?token=...</code>). Use the chat from DrillQuiz or CoinTutor, or obtain a token via <code>GET /v1/chat-token</code> with <code>X-API-Key</code>.\n    </p>\n  </div>\n</template>\n\n<script>\nimport { apiBase } from '../config/apiConfig'\n\nexport default {\n  name: 'About',\n  data() {\n    return { apiBase }\n  }\n}\n</script>\n\n<style scoped>\n.about {\n  font-family: \"DM Sans\", system-ui, -apple-system, sans-serif;\n  min-height: 100vh;\n  background: var(--bg, #0f172a);\n  color: var(--text, #f1f5f9);\n}\n.wrap { max-width: 900px; margin: 0 auto; padding: 1rem 1.5rem 3rem; }\n.tagline { color: var(--muted, #94a3b8); font-size: 1.05rem; margin-bottom: 2rem; }\n.tagline-sm { margin-top: 0; margin-bottom: 0.75rem; color: var(--muted, #94a3b8); font-size: 0.95rem; }\n.card {\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 1.5rem;\n  margin-bottom: 1.25rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.card h2 { font-size: 1.1rem; font-weight: 600; margin: 0 0 0.75rem; color: var(--accent, #38bdf8); }\n.card p { margin: 0; color: var(--muted, #94a3b8); font-size: 0.95rem; }\n.link { color: #38bdf8; }\n.section-title { font-size: 1.25rem; font-weight: 600; margin: 2.5rem 0 1rem; }\n.diagram {\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 1.25rem 1.5rem;\n  margin-bottom: 1.25rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.diagram-title { font-size: 0.8rem; font-weight: 600; color: #38bdf8; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; }\n.flow-row { display: flex; align-items: center; flex-wrap: wrap; gap: 0.5rem; margin: 0.5rem 0; }\n.flow-row.flow-detail { margin-top: 0.75rem; }\n.flow-step {\n  background: var(--bg, #0f172a);\n  border: 1px solid rgba(56, 189, 248, 0.35);\n  border-radius: 8px;\n  padding: 0.6rem 1rem;\n  font-size: 0.9rem;\n  color: var(--text, #f1f5f9);\n}\n.flow-step.user { border-color: rgba(34, 197, 94, 0.5); }\n.flow-step.gateway { border-color: rgba(56, 189, 248, 0.5); }\n.flow-step.dify { border-color: rgba(168, 85, 247, 0.5); }\n.flow-step.rag { border-color: rgba(251, 146, 60, 0.5); }\n.flow-arrow { color: var(--muted, #94a3b8); }\n.seq-row { display: flex; align-items: center; gap: 0.5rem; margin: 0.35rem 0; font-size: 0.9rem; }\n.seq-label { min-width: 6rem; color: var(--muted, #94a3b8); flex-shrink: 0; }\n.seq-box {\n  flex: 1;\n  background: var(--bg, #0f172a);\n  border-radius: 6px;\n  padding: 0.4rem 0.75rem;\n  border: 1px solid rgba(255,255,255,0.08);\n  color: var(--muted, #94a3b8);\n  font-size: 0.9rem;\n}\n.arch-arrow-row { text-align: center; margin: 0.25rem 0; color: var(--muted, #94a3b8); font-size: 0.8rem; }\n.arch-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\n  gap: 0.75rem;\n  margin: 0.5rem 0;\n}\n.arch-box {\n  background: var(--bg, #0f172a);\n  border: 1px solid rgba(255,255,255,0.1);\n  border-radius: 8px;\n  padding: 0.75rem 1rem;\n  font-size: 0.85rem;\n  text-align: center;\n  color: var(--text, #f1f5f9);\n}\n.arch-box.entry { border-color: rgba(34, 197, 94, 0.4); }\n.arch-box.gw { border-color: rgba(56, 189, 248, 0.4); }\n.arch-box.app { border-color: rgba(168, 85, 247, 0.4); }\n.arch-box.data { border-color: rgba(251, 146, 60, 0.4); }\n.arch-note { margin: 0.75rem 0 0; font-size: 0.85rem; color: var(--muted, #94a3b8); }\n.links { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 2rem; }\n.links a {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.6rem 1rem;\n  background: var(--surface, #1e293b);\n  color: #38bdf8;\n  text-decoration: none;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  border: 1px solid rgba(56, 189, 248, 0.25);\n}\n.links a:hover { background: rgba(56, 189, 248, 0.1); }\n.footer { margin-top: 3rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.06); font-size: 0.85rem; color: var(--muted, #94a3b8); }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=ef705832&scoped=true\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=ef705832&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef705832\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.init)?_c('div',{staticClass:\"chat-page\",class:{ 'chat-page--modal': _vm.inModal }},[(!_vm.init.embed)?_c('div',{staticClass:\"header\"},[_c('span',[_vm._v(\"System: \"+_vm._s(_vm.init.systemId)+\"  User: \"+_vm._s(_vm.init.userId))])]):_vm._e(),_c('div',{staticClass:\"layout\",class:{ 'layout--embed': _vm.init.embed }},[(!_vm.init.embed)?_c('aside',{staticClass:\"sidebar\"},[_c('h3',[_vm._v(\"Conversations\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.newConversation}},[_vm._v(_vm._s(_vm.t.sendNew))]),_c('ul',{staticClass:\"conv-list\"},_vm._l((_vm.conversations),function(c){return _c('li',{key:c.id,class:{ active: c.id === _vm.currentConversationId },on:{\"click\":function($event){return _vm.selectConversation(c.id)}}},[_c('span',{staticClass:\"conv-name\"},[_vm._v(_vm._s(c.name || c.id || '(Conversation)'))]),_c('button',{staticClass:\"btn-del-conv\",attrs:{\"type\":\"button\",\"title\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteConversation(c.id)}}},[_vm._v(\"\")])])}),0)]):_vm._e(),_c('main',{staticClass:\"main\"},[_c('div',{ref:\"messages\",staticClass:\"messages\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.messages.length === 0),expression:\"messages.length === 0\"}],staticClass:\"empty-state\"},[_vm._v(_vm._s(_vm.emptyText))]),_vm._l((_vm.messages),function(m,i){return _c('div',{key:i,class:['msg', 'msg-' + m.role]},[_c('div',{staticClass:\"msg-role\"},[_vm._v(_vm._s(m.role === 'user' ? _vm.t.me : _vm.t.bot))]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.escapeHtml(m.content))}})])})],2),_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error))]),_c('div',{staticClass:\"input-row\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.t.placeholder,\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.inputText)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;$event.preventDefault();return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.inputText=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendMessage}},[_vm._v(_vm._s(_vm.t.send))])])])])]):_c('div',{staticClass:\"chat-page chat-page--no-init\"},[_vm._m(0),_c('p',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\" Back to intro\")])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"Token is required. Add \"),_c('code',[_vm._v(\"?token=<JWT>\")]),_vm._v(\" to the URL, or get a token via \"),_c('code',[_vm._v(\"GET /v1/chat-token\")]),_vm._v(\".\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"chat-page\" :class=\"{ 'chat-page--modal': inModal }\" v-if=\"init\">\n    <div class=\"header\" v-if=\"!init.embed\">\n      <span>System: {{ init.systemId }}  User: {{ init.userId }}</span>\n    </div>\n    <div class=\"layout\" :class=\"{ 'layout--embed': init.embed }\">\n      <aside class=\"sidebar\" v-if=\"!init.embed\">\n        <h3>Conversations</h3>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"newConversation\">{{ t.sendNew }}</button>\n        <ul class=\"conv-list\">\n          <li\n            v-for=\"c in conversations\"\n            :key=\"c.id\"\n            :class=\"{ active: c.id === currentConversationId }\"\n            @click=\"selectConversation(c.id)\"\n          >\n            <span class=\"conv-name\">{{ c.name || c.id || '(Conversation)' }}</span>\n            <button type=\"button\" class=\"btn-del-conv\" @click.stop=\"deleteConversation(c.id)\" title=\"\"></button>\n          </li>\n        </ul>\n      </aside>\n      <main class=\"main\">\n        <div class=\"messages\" ref=\"messages\">\n          <p class=\"empty-state\" v-show=\"messages.length === 0\">{{ emptyText }}</p>\n          <div\n            v-for=\"(m, i) in messages\"\n            :key=\"i\"\n            :class=\"['msg', 'msg-' + m.role]\"\n          >\n            <div class=\"msg-role\">{{ m.role === 'user' ? t.me : t.bot }}</div>\n            <div v-html=\"escapeHtml(m.content)\"></div>\n          </div>\n        </div>\n        <div class=\"error\">{{ error }}</div>\n        <div class=\"input-row\">\n          <input\n            type=\"text\"\n            v-model=\"inputText\"\n            :placeholder=\"t.placeholder\"\n            autocomplete=\"off\"\n            @keydown.enter.prevent=\"sendMessage\"\n          >\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"sendMessage\">{{ t.send }}</button>\n        </div>\n      </main>\n    </div>\n  </div>\n  <div v-else class=\"chat-page chat-page--no-init\">\n    <p>Token is required. Add <code>?token=&lt;JWT&gt;</code> to the URL, or get a token via <code>GET /v1/chat-token</code>.</p>\n    <p><router-link to=\"/\"> Back to intro</router-link></p>\n  </div>\n</template>\n\n<script>\nimport { chatApiBase } from '../config/apiConfig'\n\nconst ALLOWED_LANGS = ['en', 'es', 'ko', 'zh', 'ja']\nconst UI = {\n  en: {\n    placeholder: 'Type a message...',\n    send: 'Send',\n    sendNew: 'New conversation',\n    empty: 'Type a message.',\n    emptyFull: 'Start a new chat or select one from the list.',\n    me: 'Me',\n    bot: 'Bot',\n    errorList: 'Failed to load conversations.',\n    errorMessages: 'Failed to load messages.',\n    errorSend: 'Send failed.'\n  },\n  es: {\n    placeholder: 'Escribe un mensaje...',\n    send: 'Enviar',\n    sendNew: 'Nueva conversacin',\n    empty: 'Escribe un mensaje.',\n    emptyFull: 'Inicia un chat nuevo o elige uno de la lista.',\n    me: 'Yo',\n    bot: 'Bot',\n    errorList: 'Error al cargar conversaciones.',\n    errorMessages: 'Error al cargar mensajes.',\n    errorSend: 'Error al enviar.'\n  },\n  ko: {\n    placeholder: ' ...',\n    send: '',\n    sendNew: ' ',\n    empty: ' .',\n    emptyFull: '     .',\n    me: '',\n    bot: '',\n    errorList: '   .',\n    errorMessages: '  .',\n    errorSend: ' .'\n  },\n  zh: {\n    placeholder: '...',\n    send: '',\n    sendNew: '',\n    empty: '',\n    emptyFull: '',\n    me: '',\n    bot: '',\n    errorList: '',\n    errorMessages: '',\n    errorSend: ''\n  },\n  ja: {\n    placeholder: '...',\n    send: '',\n    sendNew: '',\n    empty: '',\n    emptyFull: '',\n    me: '',\n    bot: '',\n    errorList: '',\n    errorMessages: '',\n    errorSend: ''\n  }\n}\n\nfunction resolveLang(langParam) {\n  if (langParam && ALLOWED_LANGS.includes(langParam)) return langParam\n  const nav = (navigator.language || navigator.userLanguage || '').toLowerCase()\n  if (nav.startsWith('ko')) return 'ko'\n  if (nav.startsWith('ja')) return 'ja'\n  if (nav.startsWith('zh')) return 'zh'\n  if (nav.startsWith('es')) return 'es'\n  return 'en'\n}\n\nexport default {\n  name: 'Chat',\n  props: {\n    chatToken: { type: String, default: '' },\n    chatSystemId: { type: String, default: '' },\n    chatUserId: { type: String, default: '' },\n    inModal: { type: Boolean, default: false }\n  },\n  data() {\n    const lang = resolveLang(null)\n    return {\n      lang,\n      t: UI[lang] || UI.en,\n      conversations: [],\n      currentConversationId: null,\n      messages: [],\n      inputText: '',\n      error: ''\n    }\n  },\n  computed: {\n    init() {\n      if (this.chatToken && this.chatSystemId && this.chatUserId) {\n        return {\n          token: this.chatToken,\n          systemId: this.chatSystemId,\n          userId: this.chatUserId,\n          embed: false,\n          lang: ''\n        }\n      }\n      let raw = (typeof window !== 'undefined' && window.__CHAT_INIT__) || {}\n      if (!raw.token && typeof window !== 'undefined') {\n        const params = new URLSearchParams(window.location.search)\n        const token = params.get('token')\n        const embed = params.get('embed') === '1'\n        const langParam = params.get('lang') || ''\n        if (token) {\n          try {\n            const payload = JSON.parse(atob(token.split('.')[1]))\n            raw = { token, systemId: payload.system_id || '', userId: payload.user_id || '', embed, lang: langParam }\n          } catch (_) {\n            raw = {}\n          }\n        }\n      }\n      return (raw.token && raw.systemId !== undefined && raw.userId !== undefined) ? raw : null\n    },\n    emptyText() {\n      return this.init && this.init.embed ? this.t.empty : this.t.emptyFull\n    }\n  },\n  mounted() {\n    if (this.init && !this.init.embed) {\n      this.loadConversations()\n    }\n  },\n  updated() {\n    this.$nextTick(() => {\n      const el = this.$refs.messages\n      if (el) el.scrollTop = el.scrollHeight\n    })\n  },\n  methods: {\n    authHeader() {\n      return {\n        'Authorization': 'Bearer ' + this.init.token,\n        'Content-Type': 'application/json'\n      }\n    },\n    escapeHtml(s) {\n      if (s == null) return ''\n      const div = document.createElement('div')\n      div.textContent = s\n      return div.innerHTML\n    },\n    newConversation() {\n      this.currentConversationId = null\n      this.messages = []\n      this.error = ''\n    },\n    async loadConversations() {\n      if (!this.init || this.init.embed) return\n      try {\n        const r = await fetch(\n          (chatApiBase || '') + '/v1/conversations?system_id=' + encodeURIComponent(this.init.systemId) + '&user_id=' + encodeURIComponent(this.init.userId),\n          { headers: this.authHeader() }\n        )\n        if (!r.ok) throw new Error(this.t.errorList)\n        this.conversations = await r.json()\n      } catch (e) {\n        this.error = e.message || this.t.errorList\n      }\n    },\n    async deleteConversation(id) {\n      if (!this.init || this.init.embed) return\n      try {\n        const r = await fetch(\n          (chatApiBase || '') + '/v1/conversations/' + encodeURIComponent(id) + '?system_id=' + encodeURIComponent(this.init.systemId) + '&user_id=' + encodeURIComponent(this.init.userId),\n          { method: 'DELETE', headers: this.authHeader() }\n        )\n        if (!r.ok) {\n          const raw = await r.text()\n          let err = raw\n          try { const j = JSON.parse(raw); if (j.detail) err = typeof j.detail === 'string' ? j.detail : JSON.stringify(j.detail) } catch (_) {}\n          throw new Error(err)\n        }\n        if (this.currentConversationId === id) {\n          this.currentConversationId = null\n          this.messages = []\n        }\n        await this.loadConversations()\n      } catch (e) {\n        this.error = e.message || ' '\n      }\n    },\n    async selectConversation(id) {\n      if (!this.init || this.init.embed) return\n      this.currentConversationId = id\n      this.messages = []\n      if (!id) return\n      try {\n        const r = await fetch(\n          (chatApiBase || '') + '/v1/conversations/' + encodeURIComponent(id) + '/messages?system_id=' + encodeURIComponent(this.init.systemId) + '&user_id=' + encodeURIComponent(this.init.userId),\n          { headers: this.authHeader() }\n        )\n        if (!r.ok) throw new Error(this.t.errorMessages)\n        const data = await r.json()\n        this.messages = data.map(m => ({ role: m.role, content: m.content }))\n      } catch (e) {\n        this.error = e.message || this.t.errorMessages\n      }\n    },\n    async sendMessage() {\n      const text = this.inputText.trim()\n      if (!text || !this.init) return\n      this.error = ''\n      this.inputText = ''\n      this.messages.push({ role: 'user', content: text })\n      try {\n        const body = { message: text, inputs: { language: this.lang } }\n        if (this.currentConversationId) body.conversation_id = this.currentConversationId\n        const r = await fetch((chatApiBase || '') + '/v1/chat', {\n          method: 'POST',\n          headers: this.authHeader(),\n          body: JSON.stringify(body)\n        })\n        if (!r.ok) {\n          const raw = await r.text()\n          let errText = raw\n          try {\n            const j = JSON.parse(raw)\n            if (j.detail) errText = typeof j.detail === 'string' ? j.detail : JSON.stringify(j.detail)\n          } catch (_) {}\n          throw new Error(errText || this.t.errorSend)\n        }\n        const data = await r.json()\n        if (data.conversation_id) this.currentConversationId = data.conversation_id\n        this.messages.push({ role: 'assistant', content: data.answer || '' })\n        if (!this.init.embed) this.loadConversations()\n      } catch (e) {\n        this.error = e.message || this.t.errorSend\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.chat-page {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n.chat-page--no-init {\n  padding: 2rem;\n  font-family: system-ui, sans-serif;\n}\n.layout {\n  display: flex;\n  flex: 1;\n  height: calc(100vh - 40px);\n  min-height: 0;\n}\n.chat-page--modal {\n  height: 100%;\n  min-height: 400px;\n}\n.chat-page--modal .layout {\n  height: calc(100% - 40px);\n}\n.layout--embed {\n  height: 100vh;\n}\n.chat-page--modal .layout--embed {\n  height: 100%;\n}\n.header {\n  padding: 0.6rem 1rem;\n  background: #1a1a2e;\n  color: #eee;\n  font-size: 0.9rem;\n}\n.sidebar {\n  width: 240px;\n  background: #fff;\n  color: #111;\n  border-right: 1px solid #e5e7eb;\n  overflow-y: auto;\n  padding: 0.5rem;\n}\n.sidebar h3 {\n  margin: 0 0 0.5rem;\n  font-size: 0.85rem;\n  color: #6b7280;\n}\n.btn {\n  padding: 0.4rem 0.75rem;\n  border-radius: 6px;\n  border: 1px solid #d1d5db;\n  background: #fff;\n  cursor: pointer;\n  font-size: 0.9rem;\n}\n.btn:hover { background: #f9fafb; }\n.btn-primary {\n  background: #2563eb;\n  color: #fff;\n  border-color: #2563eb;\n}\n.btn-primary:hover { background: #1d4ed8; }\n.conv-list {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n.conv-list li {\n  padding: 0.5rem 0.6rem;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n.conv-name { flex: 1; overflow: hidden; text-overflow: ellipsis; min-width: 0; }\n.btn-del-conv {\n  flex-shrink: 0;\n  width: 1.5rem;\n  height: 1.5rem;\n  padding: 0;\n  border: none;\n  border-radius: 4px;\n  background: transparent;\n  color: #6b7280;\n  font-size: 1.2rem;\n  line-height: 1;\n  cursor: pointer;\n  opacity: 0.7;\n}\n.btn-del-conv:hover {\n  background: #fee2e2;\n  color: #dc2626;\n  opacity: 1;\n}\n.conv-list li:hover { background: #f3f4f6; }\n.conv-list li.active { background: #dbeafe; font-weight: 500; }\n.main {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  min-width: 0;\n  min-height: 0;\n}\n.messages {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n.msg {\n  max-width: 85%;\n  padding: 0.6rem 0.9rem;\n  border-radius: 12px;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n.msg-user { align-self: flex-end; background: #2563eb; color: #fff; }\n.msg-assistant { align-self: flex-start; background: #f3f4f6; color: #111; }\n.msg-role { font-size: 0.75rem; opacity: 0.8; margin-bottom: 0.2rem; }\n.input-row {\n  padding: 0.75rem 1rem;\n  border-top: 1px solid #e5e7eb;\n  display: flex;\n  gap: 0.5rem;\n  align-items: center;\n}\n.input-row input {\n  flex: 1;\n  padding: 0.5rem 0.75rem;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  font-size: 1rem;\n}\n.input-row input:focus { outline: none; border-color: #2563eb; }\n.empty-state { color: #6b7280; text-align: center; padding: 2rem; }\n.error { color: #dc2626; font-size: 0.9rem; padding: 0.5rem; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Chat.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Chat.vue?vue&type=template&id=dbfa4aac&scoped=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\nimport style0 from \"./Chat.vue?vue&type=style&index=0&id=dbfa4aac&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dbfa4aac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-page\"},[_c('div',{staticClass:\"login-card\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('auth.login')))]),_c('p',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('auth.loginSubtitle')))]),_c('form',{staticClass:\"login-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(_vm._s(_vm.$t('common.username')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-input\",attrs:{\"id\":\"username\",\"type\":\"text\",\"placeholder\":_vm.$t('auth.usernamePlaceholder'),\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(_vm._s(_vm.$t('common.password')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-input\",attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":_vm.$t('common.password'),\"required\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),(_vm.error)?_c('p',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? _vm.$t('auth.loggingIn') : _vm.$t('auth.loginButton'))+\" \")])]),_c('p',{staticClass:\"footer-note\"},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(_vm._s(_vm.$t('menu.register')))])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-page\">\n    <div class=\"login-card\">\n      <h1>{{ $t('auth.login') }}</h1>\n      <p class=\"subtitle\">{{ $t('auth.loginSubtitle') }}</p>\n\n      <form @submit.prevent=\"handleLogin\" class=\"login-form\">\n        <div class=\"form-group\">\n          <label for=\"username\">{{ $t('common.username') }}</label>\n          <input\n            id=\"username\"\n            v-model=\"username\"\n            type=\"text\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.usernamePlaceholder')\"\n            required\n          >\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">{{ $t('common.password') }}</label>\n          <input\n            id=\"password\"\n            v-model=\"password\"\n            type=\"password\"\n            class=\"form-input\"\n            :placeholder=\"$t('common.password')\"\n            required\n          >\n        </div>\n        <p v-if=\"error\" class=\"error-msg\">{{ error }}</p>\n        <button type=\"submit\" class=\"btn-submit\" :disabled=\"loading\">\n          {{ loading ? $t('auth.loggingIn') : $t('auth.loginButton') }}\n        </button>\n      </form>\n\n      <p class=\"footer-note\">\n        <router-link to=\"/register\">{{ $t('menu.register') }}</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nconst TOKEN_KEY = 'admin_token'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      error: ''\n    }\n  },\n  methods: {\n    async handleLogin() {\n      this.error = ''\n      this.loading = true\n      try {\n        const r = await fetch('/v1/admin/login', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            username: this.username.trim(),\n            password: this.password\n          })\n        })\n        if (!r.ok) {\n          const data = await r.json().catch(() => ({}))\n          throw new Error(data.detail || this.$t('auth.loginFailed'))\n        }\n        const data = await r.json()\n        const token = data.access_token\n        if (!token) throw new Error(this.$t('auth.tokenError'))\n        localStorage.setItem(TOKEN_KEY, token)\n        this.$router.replace('/admin')\n      } catch (e) {\n        this.error = e.message || this.$t('auth.loginError')\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-page {\n  min-height: calc(100vh - 56px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  background: var(--bg, #0f172a);\n  color: #f1f5f9;\n}\n.login-card {\n  width: 100%;\n  max-width: 400px;\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 2rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.login-card h1 { font-size: 1.5rem; margin: 0 0 0.5rem; color: #f1f5f9; }\n.subtitle { color: #94a3b8; font-size: 0.9rem; margin-bottom: 1.5rem; }\n.login-form { display: flex; flex-direction: column; gap: 1.25rem; }\n.form-group { display: flex; flex-direction: column; gap: 0.4rem; }\n.form-group label { font-size: 0.85rem; font-weight: 600; color: #94a3b8; }\n.form-input {\n  padding: 0.6rem 0.9rem;\n  border: 1px solid rgba(255,255,255,0.15);\n  border-radius: 8px;\n  background: #0f172a;\n  color: #f1f5f9;\n  font-size: 1rem;\n}\n.form-input:focus { outline: none; border-color: #38bdf8; }\n.error-msg { color: #f87171; font-size: 0.9rem; margin: 0; }\n.btn-submit {\n  padding: 0.75rem 1rem;\n  background: #2563eb;\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n.btn-submit:hover:not(:disabled) { background: #1d4ed8; }\n.btn-submit:disabled { opacity: 0.6; cursor: not-allowed; }\n.footer-note {\n  margin-top: 1.5rem;\n  padding-top: 1rem;\n  border-top: 1px solid rgba(255,255,255,0.06);\n  font-size: 0.9rem;\n  color: #94a3b8;\n}\n.footer-note a { color: #38bdf8; }\n.footer-note a:hover { text-decoration: underline; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=6282c9ff&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=6282c9ff&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6282c9ff\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"register-page\"},[_c('div',{staticClass:\"register-card\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('auth.register')))]),_c('p',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('auth.registerSubtitle')))]),_c('form',{staticClass:\"register-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleRegister.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(_vm._s(_vm.$t('common.username')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-input\",attrs:{\"id\":\"username\",\"type\":\"text\",\"placeholder\":_vm.$t('auth.loginIdPlaceholder'),\"required\":\"\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(_vm._s(_vm.$t('common.name')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-input\",attrs:{\"id\":\"name\",\"type\":\"text\",\"placeholder\":_vm.$t('auth.namePlaceholder'),\"required\":\"\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.name=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(_vm._s(_vm.$t('common.email')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-input\",attrs:{\"id\":\"email\",\"type\":\"email\",\"placeholder\":_vm.$t('auth.emailPlaceholder'),\"required\":\"\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.email=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(_vm._s(_vm.$t('common.password')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-input\",attrs:{\"id\":\"password\",\"type\":\"password\",\"placeholder\":_vm.$t('auth.passwordPlaceholder'),\"required\":\"\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"passwordConfirm\"}},[_vm._v(_vm._s(_vm.$t('common.passwordConfirm')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordConfirm),expression:\"passwordConfirm\"}],staticClass:\"form-input\",attrs:{\"id\":\"passwordConfirm\",\"type\":\"password\",\"placeholder\":_vm.$t('auth.passwordConfirmPlaceholder'),\"required\":\"\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.passwordConfirm)},on:{\"input\":function($event){if($event.target.composing)return;_vm.passwordConfirm=$event.target.value}}})]),(_vm.error)?_c('p',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? _vm.$t('auth.registering') : _vm.$t('auth.registerButton'))+\" \")])]),_c('p',{staticClass:\"footer-note\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.registerLink'))+\" \"),_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(_vm._s(_vm.$t('menu.login')))])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register-page\">\n    <div class=\"register-card\">\n      <h1>{{ $t('auth.register') }}</h1>\n      <p class=\"subtitle\">{{ $t('auth.registerSubtitle') }}</p>\n\n      <form @submit.prevent=\"handleRegister\" class=\"register-form\">\n        <div class=\"form-group\">\n          <label for=\"username\">{{ $t('common.username') }}</label>\n          <input\n            id=\"username\"\n            v-model=\"username\"\n            type=\"text\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.loginIdPlaceholder')\"\n            required\n          >\n        </div>\n        <div class=\"form-group\">\n          <label for=\"name\">{{ $t('common.name') }}</label>\n          <input\n            id=\"name\"\n            v-model=\"name\"\n            type=\"text\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.namePlaceholder')\"\n            required\n          >\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">{{ $t('common.email') }}</label>\n          <input\n            id=\"email\"\n            v-model=\"email\"\n            type=\"email\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.emailPlaceholder')\"\n            required\n          >\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">{{ $t('common.password') }}</label>\n          <input\n            id=\"password\"\n            v-model=\"password\"\n            type=\"password\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.passwordPlaceholder')\"\n            required\n            minlength=\"6\"\n          >\n        </div>\n        <div class=\"form-group\">\n          <label for=\"passwordConfirm\">{{ $t('common.passwordConfirm') }}</label>\n          <input\n            id=\"passwordConfirm\"\n            v-model=\"passwordConfirm\"\n            type=\"password\"\n            class=\"form-input\"\n            :placeholder=\"$t('auth.passwordConfirmPlaceholder')\"\n            required\n            minlength=\"6\"\n          >\n        </div>\n        <p v-if=\"error\" class=\"error-msg\">{{ error }}</p>\n        <button type=\"submit\" class=\"btn-submit\" :disabled=\"loading\">\n          {{ loading ? $t('auth.registering') : $t('auth.registerButton') }}\n        </button>\n      </form>\n\n      <p class=\"footer-note\">\n        {{ $t('auth.registerLink') }} <router-link to=\"/login\">{{ $t('menu.login') }}</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nconst TOKEN_KEY = 'admin_token'\n\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      username: '',\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirm: '',\n      loading: false,\n      error: ''\n    }\n  },\n  methods: {\n    async handleRegister() {\n      this.error = ''\n      if (this.password.length < 6) {\n        this.error = this.$t('auth.passwordMinLength')\n        return\n      }\n      if (this.password !== this.passwordConfirm) {\n        this.error = this.$t('auth.passwordMismatch')\n        return\n      }\n      this.loading = true\n      try {\n        const r = await fetch('/v1/admin/register', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            username: this.username.trim(),\n            name: this.name.trim(),\n            email: this.email.trim().toLowerCase(),\n            password: this.password,\n            password_confirm: this.passwordConfirm\n          })\n        })\n        if (!r.ok) {\n          const data = await r.json().catch(() => ({}))\n          const detail = Array.isArray(data.detail) ? data.detail[0]?.msg || data.detail : data.detail\n          throw new Error(typeof detail === 'string' ? detail : this.$t('auth.registerFailed'))\n        }\n        const data = await r.json()\n        const token = data.access_token\n        if (!token) throw new Error(this.$t('auth.tokenError'))\n        localStorage.setItem(TOKEN_KEY, token)\n        this.$router.replace('/admin')\n      } catch (e) {\n        this.error = e.message || this.$t('auth.registerError')\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-page {\n  min-height: calc(100vh - 56px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  background: var(--bg, #0f172a);\n  color: #f1f5f9;\n}\n.register-card {\n  width: 100%;\n  max-width: 400px;\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 2rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.register-card h1 { font-size: 1.5rem; margin: 0 0 0.5rem; color: #f1f5f9; }\n.subtitle { color: #94a3b8; font-size: 0.9rem; margin-bottom: 1.5rem; }\n.register-form { display: flex; flex-direction: column; gap: 1.25rem; }\n.form-group { display: flex; flex-direction: column; gap: 0.4rem; }\n.form-group label { font-size: 0.85rem; font-weight: 600; color: #94a3b8; }\n.form-input {\n  padding: 0.6rem 0.9rem;\n  border: 1px solid rgba(255,255,255,0.15);\n  border-radius: 8px;\n  background: #0f172a;\n  color: #f1f5f9;\n  font-size: 1rem;\n}\n.form-input:focus { outline: none; border-color: #38bdf8; }\n.error-msg { color: #f87171; font-size: 0.9rem; margin: 0; }\n.btn-submit {\n  padding: 0.75rem 1rem;\n  background: #2563eb;\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n.btn-submit:hover:not(:disabled) { background: #1d4ed8; }\n.btn-submit:disabled { opacity: 0.6; cursor: not-allowed; }\n.footer-note {\n  margin-top: 1.5rem;\n  padding-top: 1rem;\n  border-top: 1px solid rgba(255,255,255,0.06);\n  font-size: 0.9rem;\n  color: #94a3b8;\n}\n.footer-note a { color: #38bdf8; }\n.footer-note a:hover { text-decoration: underline; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=3a2e22ac&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=3a2e22ac&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a2e22ac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"admin-page-wrap\"},[_c('div',{staticClass:\"admin-page\"},[_c('div',{staticClass:\"admin-header\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('admin.chatList')))])]),_c('div',{staticClass:\"filters-card\"},[_c('div',{staticClass:\"filters\"},[_c('label',[_vm._v(_vm._s(_vm.$t('admin.system'))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.systemId),expression:\"filters.systemId\"}],attrs:{\"placeholder\":\"e.g. cointutor\"},domProps:{\"value\":(_vm.filters.systemId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.filters, \"systemId\", $event.target.value)}}})]),_c('label',[_vm._v(_vm._s(_vm.$t('admin.user'))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.userId),expression:\"filters.userId\"}],attrs:{\"placeholder\":\"e.g. 12345\"},domProps:{\"value\":(_vm.filters.userId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.filters, \"userId\", $event.target.value)}}})]),_c('label',[_vm._v(_vm._s(_vm.$t('admin.from'))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.fromDate),expression:\"filters.fromDate\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.filters.fromDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.filters, \"fromDate\", $event.target.value)}}})]),_c('label',[_vm._v(_vm._s(_vm.$t('admin.to'))+\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filters.toDate),expression:\"filters.toDate\"}],attrs:{\"type\":\"date\"},domProps:{\"value\":(_vm.filters.toDate)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.filters, \"toDate\", $event.target.value)}}})]),_c('button',{staticClass:\"btn-search\",on:{\"click\":_vm.doSearch}},[_vm._v(_vm._s(_vm.$t('common.search')))]),(_vm.conversations.length > 0)?_c('button',{staticClass:\"btn-select\",on:{\"click\":_vm.toggleSelectAll}},[_vm._v(_vm._s(_vm.allSelected ? _vm.$t('admin.deselectAll') : _vm.$t('admin.selectAll')))]):_vm._e(),(_vm.selectedIds.size > 0)?_c('button',{staticClass:\"btn-delete\",attrs:{\"disabled\":_vm.deleting},on:{\"click\":_vm.deleteSelected}},[_vm._v(_vm._s(_vm.deleting ? _vm.$t('common.deleting') : _vm.$t('admin.deleteSelected') + ' (' + _vm.selectedIds.size + ')'))]):_vm._e()])]),(_vm.error)?_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"conv-table-wrap\"},[_c('table',{staticClass:\"conv-table\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"col-check\"},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.allSelected},on:{\"change\":_vm.toggleSelectAll}})]),_c('th',[_vm._v(_vm._s(_vm.$t('admin.system')))]),_c('th',[_vm._v(_vm._s(_vm.$t('admin.user')))]),_c('th',[_vm._v(_vm._s(_vm.$t('common.name')))]),_c('th',[_vm._v(_vm._s(_vm.$t('admin.created')))])])]),_c('tbody',_vm._l((_vm.conversations),function(c){return _c('tr',{key:c.conversation_id,staticClass:\"row-click\",class:{ 'row-selected': _vm.isSelected(c) },on:{\"click\":function($event){return _vm.loadMessages(c)}}},[_c('td',{staticClass:\"col-check\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":_vm.isSelected(c)},on:{\"change\":function($event){return _vm.toggleSelect(c)}}})]),_c('td',[_vm._v(_vm._s(c.system_id))]),_c('td',[_vm._v(_vm._s(c.user_id))]),_c('td',[_vm._v(_vm._s(c.name || '-'))]),_c('td',[_vm._v(_vm._s(_vm.formatDate(c.created_at)))])])}),0)])]),(!_vm.loading && !_vm.hasSearched)?_c('p',{staticClass:\"empty\"},[_vm._v(_vm._s(_vm.$t('admin.emptySearchHint')))]):(!_vm.loading && _vm.conversations.length === 0)?_c('p',{staticClass:\"empty\"},[_vm._v(_vm._s(_vm.$t('admin.noConversations')))]):_vm._e(),(_vm.selectedConv)?_c('div',{staticClass:\"messages-card\"},[_c('div',{staticClass:\"messages-box\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('admin.messages'))+\": \"+_vm._s(_vm.selectedConv.name || _vm.selectedConv.conversation_id))]),_vm._l((_vm.messages),function(m){return _c('div',{key:m.message_id,class:['message', 'msg-' + m.role]},[_c('strong',[_vm._v(_vm._s(m.role === 'user' ? _vm.$t('admin.msgUser') : _vm.$t('admin.msgBot')))]),_vm._v(\" \"+_vm._s(_vm.formatDate(m.created_at))),_c('br'),_vm._v(\" \"+_vm._s(m.content)+\" \")])})],2)]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"admin-page-wrap\">\n    <div class=\"admin-page\">\n    <div class=\"admin-header\">\n      <h1>{{ $t('admin.chatList') }}</h1>\n    </div>\n    <div class=\"filters-card\">\n    <div class=\"filters\">\n      <label>{{ $t('admin.system') }} <input v-model=\"filters.systemId\" placeholder=\"e.g. cointutor\" /></label>\n      <label>{{ $t('admin.user') }} <input v-model=\"filters.userId\" placeholder=\"e.g. 12345\" /></label>\n      <label>{{ $t('admin.from') }} <input v-model=\"filters.fromDate\" type=\"date\" /></label>\n      <label>{{ $t('admin.to') }} <input v-model=\"filters.toDate\" type=\"date\" /></label>\n      <button class=\"btn-search\" @click=\"doSearch\">{{ $t('common.search') }}</button>\n      <button v-if=\"conversations.length > 0\" class=\"btn-select\" @click=\"toggleSelectAll\">{{ allSelected ? $t('admin.deselectAll') : $t('admin.selectAll') }}</button>\n      <button v-if=\"selectedIds.size > 0\" class=\"btn-delete\" @click=\"deleteSelected\" :disabled=\"deleting\">{{ deleting ? $t('common.deleting') : $t('admin.deleteSelected') + ' (' + selectedIds.size + ')' }}</button>\n    </div>\n    </div>\n    <p v-if=\"error\" class=\"error\">{{ error }}</p>\n    <div class=\"conv-table-wrap\">\n    <table class=\"conv-table\">\n      <thead>\n        <tr>\n          <th class=\"col-check\"><input type=\"checkbox\" :checked=\"allSelected\" @change=\"toggleSelectAll\" /></th>\n          <th>{{ $t('admin.system') }}</th>\n          <th>{{ $t('admin.user') }}</th>\n          <th>{{ $t('common.name') }}</th>\n          <th>{{ $t('admin.created') }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          v-for=\"c in conversations\"\n          :key=\"c.conversation_id\"\n          :class=\"{ 'row-selected': isSelected(c) }\"\n          class=\"row-click\"\n          @click=\"loadMessages(c)\"\n        >\n          <td class=\"col-check\" @click.stop>\n            <input type=\"checkbox\" :checked=\"isSelected(c)\" @change=\"toggleSelect(c)\" />\n          </td>\n          <td>{{ c.system_id }}</td>\n          <td>{{ c.user_id }}</td>\n          <td>{{ c.name || '-' }}</td>\n          <td>{{ formatDate(c.created_at) }}</td>\n        </tr>\n      </tbody>\n    </table>\n    </div>\n    <p v-if=\"!loading && !hasSearched\" class=\"empty\">{{ $t('admin.emptySearchHint') }}</p>\n    <p v-else-if=\"!loading && conversations.length === 0\" class=\"empty\">{{ $t('admin.noConversations') }}</p>\n    <div v-if=\"selectedConv\" class=\"messages-card\">\n    <div class=\"messages-box\">\n      <h3>{{ $t('admin.messages') }}: {{ selectedConv.name || selectedConv.conversation_id }}</h3>\n      <div v-for=\"m in messages\" :key=\"m.message_id\" :class=\"['message', 'msg-' + m.role]\">\n        <strong>{{ m.role === 'user' ? $t('admin.msgUser') : $t('admin.msgBot') }}</strong> {{ formatDate(m.created_at) }}<br>\n        {{ m.content }}\n      </div>\n    </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst TOKEN_KEY = 'admin_token'\n\nexport default {\n  name: 'Admin',\n  data() {\n    return {\n      conversations: [],\n      messages: [],\n      selectedConv: null,\n      selectedIds: new Set(),\n      filters: { systemId: '', userId: '', fromDate: '', toDate: '' },\n      loading: false,\n      deleting: false,\n      error: '',\n      hasSearched: false\n    }\n  },\n  computed: {\n    allSelected() {\n      return this.conversations.length > 0 && this.selectedIds.size === this.conversations.length\n    }\n  },\n  mounted() {\n    const token = localStorage.getItem(TOKEN_KEY)\n    if (!token) {\n      this.$router.replace('/login')\n      return\n    }\n  },\n  methods: {\n    authHeaders() {\n      const token = localStorage.getItem(TOKEN_KEY)\n      return token ? { 'Authorization': 'Bearer ' + token } : {}\n    },\n    async doSearch() {\n      this.error = ''\n      this.loading = true\n      const params = new URLSearchParams()\n      const sys = this.filters.systemId.trim()\n      const usr = this.filters.userId.trim()\n      if (sys) params.set('system_id', sys)\n      if (usr) params.set('user_id', usr)\n      if (this.filters.fromDate) params.set('from_date', this.filters.fromDate)\n      if (this.filters.toDate) params.set('to_date', this.filters.toDate)\n      try {\n        const r = await fetch('/v1/admin/conversations?' + params.toString(), { headers: this.authHeaders() })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error(await r.text())\n        this.conversations = await r.json()\n        this.selectedConv = null\n        this.selectedIds = new Set()\n        this.messages = []\n        this.hasSearched = true\n      } catch (e) {\n        this.error = e.message\n      } finally {\n        this.loading = false\n      }\n    },\n    async loadMessages(c) {\n      this.error = ''\n      try {\n        const url = '/v1/admin/conversations/' + encodeURIComponent(c.conversation_id) + '/messages?system_id=' + encodeURIComponent(c.system_id) + '&user_id=' + encodeURIComponent(c.user_id)\n        const r = await fetch(url, { headers: this.authHeaders() })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error('Failed to load messages')\n        this.messages = await r.json()\n        this.selectedConv = c\n      } catch (e) {\n        this.error = e.message\n      }\n    },\n    _convKey(c) {\n      return c.conversation_id + '|' + c.system_id + '|' + c.user_id\n    },\n    isSelected(c) {\n      return this.selectedIds.has(this._convKey(c))\n    },\n    toggleSelect(c) {\n      const k = this._convKey(c)\n      if (this.selectedIds.has(k)) {\n        this.selectedIds.delete(k)\n      } else {\n        this.selectedIds.add(k)\n      }\n      this.selectedIds = new Set(this.selectedIds)\n    },\n    toggleSelectAll() {\n      if (this.allSelected) {\n        this.selectedIds = new Set()\n      } else {\n        this.selectedIds = new Set(this.conversations.map(c => this._convKey(c)))\n      }\n    },\n    async deleteSelected() {\n      if (this.selectedIds.size === 0) return\n      this.error = ''\n      this.deleting = true\n      const toDelete = this.conversations.filter(c => this.selectedIds.has(this._convKey(c)))\n      let failed = 0\n      for (const c of toDelete) {\n        try {\n          const r = await fetch(\n            '/v1/admin/conversations/' + encodeURIComponent(c.conversation_id) + '?system_id=' + encodeURIComponent(c.system_id) + '&user_id=' + encodeURIComponent(c.user_id),\n            { method: 'DELETE', headers: this.authHeaders() }\n          )\n          if (r.status === 401) {\n            localStorage.removeItem(TOKEN_KEY)\n            this.$router.replace('/login')\n            return\n          }\n          if (!r.ok) {\n            const text = await r.text()\n            try { const j = JSON.parse(text); this.error = (j.detail || text).toString() } catch (_) { this.error = text }\n            failed++\n          } else {\n            this.selectedIds.delete(this._convKey(c))\n          }\n        } catch (e) {\n          this.error = e.message\n          failed++\n        }\n      }\n      this.selectedIds = new Set(this.selectedIds)\n      this.deleting = false\n      if (failed === 0) {\n        await this.doSearch()\n      }\n    },\n    formatDate(iso) {\n      if (!iso) return '-'\n      try {\n        const d = new Date(iso)\n        return isNaN(d.getTime()) ? iso : d.toLocaleString()\n      } catch (_) { return iso }\n    },\n  }\n}\n</script>\n\n<style scoped>\n/* tz-cointutor style */\n.admin-page-wrap {\n  --primary: #6366f1;\n  --secondary: #8b5cf6;\n  --dark: #0f172a;\n  --dark-light: #1e293b;\n  --border: rgba(255, 255, 255, 0.1);\n  --border-20: rgba(255, 255, 255, 0.2);\n  background: linear-gradient(to bottom right, var(--dark), var(--dark-light), var(--dark));\n  min-height: calc(100vh - 56px);\n  color: #fff;\n}\n.admin-page { padding: 1.5rem 1rem; max-width: 80rem; margin: 0 auto; }\n.admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }\n.admin-header h1 { margin: 0; font-size: 1.5rem; font-weight: 700; }\n.filters-card { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; padding: 1rem; margin-bottom: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.filters { display: flex; flex-wrap: wrap; gap: 0.5rem; }\n.filters label { display: flex; align-items: center; gap: 0.25rem; font-size: 0.875rem; color: #d1d5db; }\n.filters input { padding: 0.5rem 0.75rem; border: 1px solid var(--border-20); border-radius: 0.5rem; background: var(--dark); color: #f1f5f9; }\n.filters input[type=\"date\"]::-webkit-calendar-picker-indicator { filter: invert(1); cursor: pointer; }\n.filters input:focus { outline: none; border-color: var(--primary); }\n.btn-search { padding: 0.5rem 1rem; background: linear-gradient(to right, var(--primary), var(--secondary)); color: #fff; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 600; }\n.btn-search:hover { box-shadow: 0 10px 20px rgba(99, 102, 241, 0.4); }\n.btn-select { padding: 0.5rem 1rem; background: rgba(15, 23, 42, 0.6); color: #9ca3af; border: 1px solid var(--border-20); border-radius: 0.75rem; cursor: pointer; }\n.btn-select:hover { background: rgba(30, 41, 59, 0.8); color: #fff; }\n.btn-delete { padding: 0.5rem 1rem; background: rgba(239, 68, 68, 0.2); color: #f87171; border: none; border-radius: 0.75rem; cursor: pointer; }\n.btn-delete:hover:not(:disabled) { background: rgba(239, 68, 68, 0.3); }\n.btn-delete:disabled { opacity: 0.6; cursor: not-allowed; }\n.conv-table-wrap { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; overflow: hidden; margin-bottom: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.col-check { width: 2.5rem; text-align: center; }\n.row-selected { background: rgba(99, 102, 241, 0.2); }\n.conv-table { border-collapse: collapse; width: 100%; }\n.conv-table th, .conv-table td { padding: 0.75rem 1rem; text-align: left; }\n.conv-table thead { background: rgba(15, 23, 42, 0.5); }\n.conv-table th { font-size: 0.875rem; font-weight: 600; color: #d1d5db; }\n.conv-table tbody tr { border-top: 1px solid var(--border); transition: background 0.2s; }\n.row-click { cursor: pointer; }\n.row-click:hover { background: rgba(15, 23, 42, 0.5); }\n.error { color: #f87171; font-size: 0.9rem; }\n.empty { color: #9ca3af; padding: 2rem; text-align: center; }\n.messages-card { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem; margin-top: 1rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.messages-box h3 { margin: 0 0 1rem; font-size: 1rem; font-weight: 600; }\n.message { padding: 0.75rem; margin-bottom: 0.5rem; border-radius: 0.5rem; white-space: pre-wrap; }\n.msg-user { background: rgba(99, 102, 241, 0.15); border-left: 3px solid var(--primary); }\n.msg-assistant { background: rgba(139, 92, 246, 0.15); border-left: 3px solid var(--secondary); }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=54a32e09&scoped=true\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nimport style0 from \"./Admin.vue?vue&type=style&index=0&id=54a32e09&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54a32e09\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"admin-systems-page\"},[_c('div',{staticClass:\"admin-page\"},[_c('div',{staticClass:\"admin-header\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('systems.title')))]),_c('div',{staticClass:\"header-actions\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/admin\"}},[_vm._v(_vm._s(_vm.$t('systems.chatList')))]),_c('button',{staticClass:\"nav-link btn-sample-download\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.downloadSampleZip}},[_vm._v(_vm._s(_vm.$t('systems.sampleCode')))]),_c('button',{staticClass:\"btn-apply-settings-header\",attrs:{\"type\":\"button\",\"disabled\":_vm.applyingSettings},on:{\"click\":_vm.applySettings}},[_vm._v(\" \"+_vm._s(_vm.applyingSettings ? _vm.$t('systems.applyingSettings') : _vm.$t('systems.applySettings'))+\" \")]),_c('button',{staticClass:\"btn-add\",on:{\"click\":function($event){return _vm.openForm()}}},[_vm._v(_vm._s(_vm.$t('systems.add')))])],1)]),(_vm.showForm)?_c('div',{staticClass:\"form-page\"},[_c('h2',[_vm._v(_vm._s(_vm.editing ? _vm.$t('systems.editSystem') : _vm.$t('systems.addSystem')))]),_c('div',{staticClass:\"form-card\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.save.apply(null, arguments)}}},[_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(\"System ID\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.system_id),expression:\"form.system_id\"}],attrs:{\"type\":\"text\",\"required\":\"\",\"disabled\":_vm.editing,\"placeholder\":\"e.g. drillquiz\"},domProps:{\"value\":(_vm.form.system_id)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"system_id\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(_vm._s(_vm.$t('systems.displayName')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.display_name),expression:\"form.display_name\"}],attrs:{\"type\":\"text\",\"placeholder\":\"e.g. DrillQuiz\"},domProps:{\"value\":(_vm.form.display_name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"display_name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(\"Dify Base URL\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.dify_base_url),expression:\"form.dify_base_url\"}],attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"https://dify.drillquiz.com\"},domProps:{\"value\":(_vm.form.dify_base_url)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"dify_base_url\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(_vm._s(_vm.$t('systems.difyApp')))]),_c('div',{staticClass:\"form-field\"},[_c('a',{staticClass:\"dify-apps-link\",attrs:{\"href\":_vm.difyAppsUrl,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\" \"+_vm._s(_vm.editing ? _vm.$t('systems.difyAppsCheck') : _vm.$t('systems.difyAppsCreate'))+\" \")]),_c('span',{staticClass:\"hint\"},[_vm._v(_vm._s(_vm.editing ? _vm.$t('systems.difyHintEdit') : _vm.$t('systems.difyHintCreate')))]),_c('span',{staticClass:\"sample-link-wrap\"},[_c('button',{staticClass:\"btn-sample\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.openSampleModal}},[_vm._v(_vm._s(_vm.$t('systems.dslSample')))])])])]),(_vm.editing)?[_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(\"Dify API Key\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.dify_api_key),expression:\"form.dify_api_key\"}],attrs:{\"type\":\"password\",\"required\":\"\",\"placeholder\":\"app-xxx\"},domProps:{\"value\":(_vm.form.dify_api_key)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"dify_api_key\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row\"},[_c('label',[_vm._v(\"Dify Chatbot Token ()\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.dify_chatbot_token),expression:\"form.dify_chatbot_token\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Dify Publish    \"},domProps:{\"value\":(_vm.form.dify_chatbot_token)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"dify_chatbot_token\", $event.target.value)}}})])]:_vm._e(),_c('div',{staticClass:\"form-row\"},[_vm._m(0),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.allowed_origins),expression:\"form.allowed_origins\"}],attrs:{\"placeholder\":\"https://example.com,https://app.example.com\",\"rows\":\"3\"},domProps:{\"value\":(_vm.form.allowed_origins)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"allowed_origins\", $event.target.value)}}})]),_c('div',{staticClass:\"form-row form-row-checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.enabled),expression:\"form.enabled\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.form.enabled)?_vm._i(_vm.form.enabled,null)>-1:(_vm.form.enabled)},on:{\"change\":function($event){var $$a=_vm.form.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"enabled\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"enabled\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"enabled\", $$c)}}}}),_vm._v(\" \"+_vm._s(_vm.$t('systems.active')))])]),(_vm.editing)?_c('div',{staticClass:\"form-row rag-files-section\"},[_c('label',[_vm._v(\"MinIO RAG  (rag-docs/raw/\"+_vm._s(_vm.editing.system_id)+\"/)\")]),_c('div',{staticClass:\"rag-files-list\"},[(_vm.ragFilesLoading)?_c('div',{staticClass:\"rag-loading\"},[_vm._v(_vm._s(_vm.$t('systems.loadingFiles')))]):(_vm.ragFiles.length)?_c('table',{staticClass:\"rag-files-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('systems.filename')))]),_c('th',[_vm._v(_vm._s(_vm.$t('systems.size')))]),_c('th',[_vm._v(_vm._s(_vm.$t('systems.modified')))]),_c('th')])]),_c('tbody',_vm._l((_vm.ragFiles),function(f){return _c('tr',{key:f.object_name},[_c('td',[_vm._v(_vm._s(f.filename))]),_c('td',[_vm._v(_vm._s(_vm.formatSize(f.size)))]),_c('td',[_vm._v(_vm._s(_vm.formatDate(f.last_modified)))]),_c('td',[_c('button',{staticClass:\"btn-del-small\",attrs:{\"type\":\"button\",\"title\":_vm.$t('common.delete')},on:{\"click\":function($event){return _vm.confirmDeleteRagFile(f)}}},[_vm._v(_vm._s(_vm.$t('common.delete')))])])])}),0)]):_c('p',{staticClass:\"rag-empty\"},[_vm._v(_vm._s(_vm.$t('systems.noFiles')))])]),_c('div',{staticClass:\"upload-controls\"},[_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".pdf,.txt,.md,.zip\"},on:{\"change\":_vm.onFileSelect}}),_c('button',{staticClass:\"btn-upload\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.$refs.fileInput?.click()}}},[_vm._v(_vm._s(_vm.$t('systems.selectFile')))]),(_vm.uploadFile)?_c('span',{staticClass:\"upload-filename\"},[_vm._v(_vm._s(_vm.uploadFile.name))]):_vm._e(),(_vm.uploadFile)?_c('button',{staticClass:\"btn-do-upload\",attrs:{\"type\":\"button\",\"disabled\":_vm.uploading},on:{\"click\":_vm.doUpload}},[_vm._v(\" \"+_vm._s(_vm.uploading ? _vm.$t('systems.uploading') : _vm.$t('systems.upload'))+\" \")]):_vm._e()]),_c('p',{staticClass:\"hint\"},[_vm._v(_vm._s(_vm.$t('systems.uploadHint')))]),(_vm.uploadResult)?_c('p',{staticClass:\"upload-result\"},[_vm._v(_vm._s(_vm.uploadResult))]):_vm._e(),_c('div',{staticClass:\"rag-table-actions\"},[_c('button',{staticClass:\"btn-reindex\",attrs:{\"type\":\"button\",\"disabled\":_vm.reindexing},on:{\"click\":_vm.triggerReindex}},[_vm._v(\" \"+_vm._s(_vm.reindexing ? _vm.$t('systems.running') : _vm.$t('systems.ragRun'))+\" \")]),_c('button',{staticClass:\"btn-apply-settings\",attrs:{\"type\":\"button\",\"disabled\":_vm.applyingSettings},on:{\"click\":_vm.applySettings}},[_vm._v(\" \"+_vm._s(_vm.applyingSettings ? _vm.$t('systems.applyingSettings') : _vm.$t('systems.applySettings'))+\" \")])])]):_vm._e(),(_vm.formError)?_c('p',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.formError))]):_vm._e(),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"btn-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closeForm}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('button',{staticClass:\"btn-save\",attrs:{\"type\":\"submit\",\"disabled\":_vm.saving}},[_vm._v(_vm._s(_vm.saving ? _vm.$t('common.saving') : _vm.$t('common.save')))])])],2)])]):[_c('div',{staticClass:\"systems-table-wrap\"},[_c('table',{staticClass:\"systems-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"System ID\")]),_c('th',[_vm._v(_vm._s(_vm.$t('systems.displayName')))]),_c('th',[_vm._v(\"Dify URL\")]),_c('th',[_vm._v(\"Chatbot Token\")]),_c('th',[_vm._v(_vm._s(_vm.$t('systems.active')))]),_c('th',[_vm._v(_vm._s(_vm.$t('systems.manage')))])])]),_c('tbody',_vm._l((_vm.systems),function(s){return _c('tr',{key:s.system_id},[_c('td',[_vm._v(_vm._s(s.system_id))]),_c('td',[_vm._v(_vm._s(s.display_name || '-'))]),_c('td',{staticClass:\"url-cell\"},[_vm._v(_vm._s(s.dify_base_url || '-'))]),_c('td',{staticClass:\"key-cell\"},[_vm._v(_vm._s(_vm.maskKey(s.dify_chatbot_token)))]),_c('td',[_vm._v(_vm._s(s.enabled ? 'Y' : 'N'))]),_c('td',[_c('button',{staticClass:\"btn-test\",on:{\"click\":function($event){return _vm.openTestChat(s)}}},[_vm._v(_vm._s(_vm.$t('common.test')))]),_c('button',{staticClass:\"btn-edit\",on:{\"click\":function($event){return _vm.openForm(s)}}},[_vm._v(_vm._s(_vm.$t('common.edit')))]),_c('button',{staticClass:\"btn-del\",on:{\"click\":function($event){return _vm.confirmDelete(s)}}},[_vm._v(_vm._s(_vm.$t('common.delete')))])])])}),0)])]),(!_vm.loading && _vm.systems.length === 0)?_c('p',{staticClass:\"empty\"},[_vm._v(_vm._s(_vm.$t('systems.noSystems')))]):_vm._e()],(_vm.deleteTarget)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.deleteTarget = null}}},[_c('div',{staticClass:\"modal\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('systems.confirmDelete')))]),_c('p',[_vm._v(_vm._s(_vm.deleteTarget.system_id)+_vm._s(_vm.$t('systems.deleteSystemConfirm')))]),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"btn-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deleteTarget = null}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('button',{staticClass:\"btn-del\",attrs:{\"type\":\"button\",\"disabled\":_vm.deleting},on:{\"click\":_vm.doDelete}},[_vm._v(_vm._s(_vm.deleting ? _vm.$t('common.deleting') : _vm.$t('common.delete')))])])])]):_vm._e(),(_vm.deleteRagTarget)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.deleteRagTarget = null}}},[_c('div',{staticClass:\"modal\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('systems.deleteRagFile')))]),_c('p',[_vm._v(_vm._s(_vm.deleteRagTarget?.filename)+\" \"+_vm._s(_vm.$t('systems.deleteRagConfirm')))]),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"btn-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.deleteRagTarget = null}}},[_vm._v(_vm._s(_vm.$t('common.cancel')))]),_c('button',{staticClass:\"btn-del\",attrs:{\"type\":\"button\",\"disabled\":_vm.deletingRag},on:{\"click\":_vm.doDeleteRagFile}},[_vm._v(_vm._s(_vm.deletingRag ? _vm.$t('common.deleting') : _vm.$t('common.delete')))])])])]):_vm._e(),(_vm.showSampleModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;_vm.showSampleModal = false}}},[_c('div',{staticClass:\"modal modal-sample\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('systems.sampleYamlTitle')))]),_c('p',{staticClass:\"sample-hint\"},[_vm._v(_vm._s(_vm.$t('systems.sampleYamlHint')))]),_c('pre',{staticClass:\"sample-code\"},[_vm._v(_vm._s(_vm.sampleYaml))]),_c('div',{staticClass:\"form-actions\"},[_c('button',{staticClass:\"btn-cancel\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showSampleModal = false}}},[_vm._v(_vm._s(_vm.$t('common.close')))])])])]):_vm._e(),(_vm.applyingSettings)?_c('div',{staticClass:\"modal-overlay applying-overlay\"},[_c('div',{staticClass:\"applying-panel\"},[_c('div',{staticClass:\"spinner\"}),_c('p',{staticClass:\"applying-text\"},[_vm._v(_vm._s(_vm.$t('systems.restarting')))]),_c('p',{staticClass:\"applying-hint\"},[_vm._v(_vm._s(_vm.$t('systems.restartHint')))])])]):_vm._e(),(_vm.showTestChat)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.closeTestChat.apply(null, arguments)}}},[_c('div',{staticClass:\"modal modal-chat\"},[_c('div',{staticClass:\"modal-chat-header\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('systems.chatTest'))+\"  \"+_vm._s(_vm.testChatSystemId))]),_c('button',{staticClass:\"btn-close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closeTestChat}},[_vm._v(_vm._s(_vm.$t('common.close')))])]),(_vm.testChatToken)?_c('div',{staticClass:\"modal-chat-body\"},[_c('Chat',{attrs:{\"chat-token\":_vm.testChatToken,\"chat-system-id\":_vm.testChatSystemId,\"chat-user-id\":_vm.testChatUserId,\"in-modal\":\"\"}})],1):_vm._e()])]):_vm._e()],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('label',[_vm._v(\"Allowed Origins\"),_c('br'),_vm._v(\"( )\")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"admin-systems-page\">\n    <div class=\"admin-page\">\n    <div class=\"admin-header\">\n      <h1>{{ $t('systems.title') }}</h1>\n      <div class=\"header-actions\">\n        <router-link to=\"/admin\" class=\"nav-link\">{{ $t('systems.chatList') }}</router-link>\n        <button type=\"button\" class=\"nav-link btn-sample-download\" @click=\"downloadSampleZip\">{{ $t('systems.sampleCode') }}</button>\n        <button type=\"button\" class=\"btn-apply-settings-header\" @click=\"applySettings\" :disabled=\"applyingSettings\">\n          {{ applyingSettings ? $t('systems.applyingSettings') : $t('systems.applySettings') }}\n        </button>\n        <button class=\"btn-add\" @click=\"openForm()\">{{ $t('systems.add') }}</button>\n      </div>\n    </div>\n\n    <div v-if=\"showForm\" class=\"form-page\">\n      <h2>{{ editing ? $t('systems.editSystem') : $t('systems.addSystem') }}</h2>\n      <div class=\"form-card\">\n      <form @submit.prevent=\"save\">\n        <div class=\"form-row\">\n          <label>System ID</label>\n          <input v-model=\"form.system_id\" type=\"text\" required :disabled=\"editing\" placeholder=\"e.g. drillquiz\" />\n        </div>\n        <div class=\"form-row\">\n          <label>{{ $t('systems.displayName') }}</label>\n          <input v-model=\"form.display_name\" type=\"text\" placeholder=\"e.g. DrillQuiz\" />\n        </div>\n        <div class=\"form-row\">\n          <label>Dify Base URL</label>\n          <input v-model=\"form.dify_base_url\" type=\"text\" required placeholder=\"https://dify.drillquiz.com\" />\n        </div>\n        <div class=\"form-row\">\n          <label>{{ $t('systems.difyApp') }}</label>\n          <div class=\"form-field\">\n            <a :href=\"difyAppsUrl\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"dify-apps-link\">\n              {{ editing ? $t('systems.difyAppsCheck') : $t('systems.difyAppsCreate') }}\n            </a>\n            <span class=\"hint\">{{ editing ? $t('systems.difyHintEdit') : $t('systems.difyHintCreate') }}</span>\n            <span class=\"sample-link-wrap\">\n              <button type=\"button\" class=\"btn-sample\" @click=\"openSampleModal\">{{ $t('systems.dslSample') }}</button>\n            </span>\n          </div>\n        </div>\n        <template v-if=\"editing\">\n          <div class=\"form-row\">\n            <label>Dify API Key</label>\n            <input v-model=\"form.dify_api_key\" type=\"password\" required placeholder=\"app-xxx\" />\n          </div>\n          <div class=\"form-row\">\n            <label>Dify Chatbot Token ()</label>\n            <input v-model=\"form.dify_chatbot_token\" type=\"password\" placeholder=\"Dify Publish    \" />\n          </div>\n        </template>\n        <div class=\"form-row\">\n          <label>Allowed Origins<br>( )</label>\n          <textarea v-model=\"form.allowed_origins\" placeholder=\"https://example.com,https://app.example.com\" rows=\"3\"></textarea>\n        </div>\n        <div class=\"form-row form-row-checkbox\">\n          <label><input v-model=\"form.enabled\" type=\"checkbox\" /> {{ $t('systems.active') }}</label>\n        </div>\n        <div v-if=\"editing\" class=\"form-row rag-files-section\">\n          <label>MinIO RAG  (rag-docs/raw/{{ editing.system_id }}/)</label>\n          <div class=\"rag-files-list\">\n            <div v-if=\"ragFilesLoading\" class=\"rag-loading\">{{ $t('systems.loadingFiles') }}</div>\n            <table v-else-if=\"ragFiles.length\" class=\"rag-files-table\">\n              <thead>\n                <tr><th>{{ $t('systems.filename') }}</th><th>{{ $t('systems.size') }}</th><th>{{ $t('systems.modified') }}</th><th></th></tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"f in ragFiles\" :key=\"f.object_name\">\n                  <td>{{ f.filename }}</td>\n                  <td>{{ formatSize(f.size) }}</td>\n                  <td>{{ formatDate(f.last_modified) }}</td>\n                  <td>\n                    <button type=\"button\" class=\"btn-del-small\" @click=\"confirmDeleteRagFile(f)\" :title=\"$t('common.delete')\">{{ $t('common.delete') }}</button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <p v-else class=\"rag-empty\">{{ $t('systems.noFiles') }}</p>\n          </div>\n          <div class=\"upload-controls\">\n            <input ref=\"fileInput\" type=\"file\" accept=\".pdf,.txt,.md,.zip\" @change=\"onFileSelect\" style=\"display:none\" />\n            <button type=\"button\" class=\"btn-upload\" @click=\"$refs.fileInput?.click()\">{{ $t('systems.selectFile') }}</button>\n            <span v-if=\"uploadFile\" class=\"upload-filename\">{{ uploadFile.name }}</span>\n            <button v-if=\"uploadFile\" type=\"button\" class=\"btn-do-upload\" @click=\"doUpload\" :disabled=\"uploading\">\n              {{ uploading ? $t('systems.uploading') : $t('systems.upload') }}\n            </button>\n          </div>\n          <p class=\"hint\">{{ $t('systems.uploadHint') }}</p>\n          <p v-if=\"uploadResult\" class=\"upload-result\">{{ uploadResult }}</p>\n          <div class=\"rag-table-actions\">\n            <button type=\"button\" class=\"btn-reindex\" @click=\"triggerReindex\" :disabled=\"reindexing\">\n              {{ reindexing ? $t('systems.running') : $t('systems.ragRun') }}\n            </button>\n            <button type=\"button\" class=\"btn-apply-settings\" @click=\"applySettings\" :disabled=\"applyingSettings\">\n              {{ applyingSettings ? $t('systems.applyingSettings') : $t('systems.applySettings') }}\n            </button>\n          </div>\n        </div>\n        <p v-if=\"formError\" class=\"error\">{{ formError }}</p>\n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn-cancel\" @click=\"closeForm\">{{ $t('common.cancel') }}</button>\n          <button type=\"submit\" class=\"btn-save\" :disabled=\"saving\">{{ saving ? $t('common.saving') : $t('common.save') }}</button>\n        </div>\n      </form>\n      </div>\n    </div>\n\n    <template v-else>\n      <div class=\"systems-table-wrap\">\n      <table class=\"systems-table\">\n        <thead>\n          <tr>\n            <th>System ID</th>\n            <th>{{ $t('systems.displayName') }}</th>\n            <th>Dify URL</th>\n            <th>Chatbot Token</th>\n            <th>{{ $t('systems.active') }}</th>\n            <th>{{ $t('systems.manage') }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"s in systems\" :key=\"s.system_id\">\n            <td>{{ s.system_id }}</td>\n            <td>{{ s.display_name || '-' }}</td>\n            <td class=\"url-cell\">{{ s.dify_base_url || '-' }}</td>\n            <td class=\"key-cell\">{{ maskKey(s.dify_chatbot_token) }}</td>\n            <td>{{ s.enabled ? 'Y' : 'N' }}</td>\n            <td>\n              <button class=\"btn-test\" @click=\"openTestChat(s)\">{{ $t('common.test') }}</button>\n              <button class=\"btn-edit\" @click=\"openForm(s)\">{{ $t('common.edit') }}</button>\n              <button class=\"btn-del\" @click=\"confirmDelete(s)\">{{ $t('common.delete') }}</button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      </div>\n      <p v-if=\"!loading && systems.length === 0\" class=\"empty\">{{ $t('systems.noSystems') }}</p>\n    </template>\n\n    <div v-if=\"deleteTarget\" class=\"modal-overlay\" @click.self=\"deleteTarget = null\">\n      <div class=\"modal\">\n        <h3>{{ $t('systems.confirmDelete') }}</h3>\n        <p>{{ deleteTarget.system_id }}{{ $t('systems.deleteSystemConfirm') }}</p>\n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn-cancel\" @click=\"deleteTarget = null\">{{ $t('common.cancel') }}</button>\n          <button type=\"button\" class=\"btn-del\" @click=\"doDelete\" :disabled=\"deleting\">{{ deleting ? $t('common.deleting') : $t('common.delete') }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"deleteRagTarget\" class=\"modal-overlay\" @click.self=\"deleteRagTarget = null\">\n      <div class=\"modal\">\n        <h3>{{ $t('systems.deleteRagFile') }}</h3>\n        <p>{{ deleteRagTarget?.filename }} {{ $t('systems.deleteRagConfirm') }}</p>\n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn-cancel\" @click=\"deleteRagTarget = null\">{{ $t('common.cancel') }}</button>\n          <button type=\"button\" class=\"btn-del\" @click=\"doDeleteRagFile\" :disabled=\"deletingRag\">{{ deletingRag ? $t('common.deleting') : $t('common.delete') }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"showSampleModal\" class=\"modal-overlay\" @click.self=\"showSampleModal = false\">\n      <div class=\"modal modal-sample\">\n        <h3>{{ $t('systems.sampleYamlTitle') }}</h3>\n        <p class=\"sample-hint\">{{ $t('systems.sampleYamlHint') }}</p>\n        <pre class=\"sample-code\">{{ sampleYaml }}</pre>\n        <div class=\"form-actions\">\n          <button type=\"button\" class=\"btn-cancel\" @click=\"showSampleModal = false\">{{ $t('common.close') }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"applyingSettings\" class=\"modal-overlay applying-overlay\">\n      <div class=\"applying-panel\">\n        <div class=\"spinner\"></div>\n        <p class=\"applying-text\">{{ $t('systems.restarting') }}</p>\n        <p class=\"applying-hint\">{{ $t('systems.restartHint') }}</p>\n      </div>\n    </div>\n\n    <div v-if=\"showTestChat\" class=\"modal-overlay\" @click.self=\"closeTestChat\">\n      <div class=\"modal modal-chat\">\n        <div class=\"modal-chat-header\">\n          <h3>{{ $t('systems.chatTest') }}  {{ testChatSystemId }}</h3>\n          <button type=\"button\" class=\"btn-close\" @click=\"closeTestChat\">{{ $t('common.close') }}</button>\n        </div>\n        <div class=\"modal-chat-body\" v-if=\"testChatToken\">\n          <Chat\n            :chat-token=\"testChatToken\"\n            :chat-system-id=\"testChatSystemId\"\n            :chat-user-id=\"testChatUserId\"\n            in-modal\n          />\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Chat from './Chat.vue'\n\nconst TOKEN_KEY = 'admin_token'\nconst API = '/v1/admin/systems'\n\nexport default {\n  name: 'AdminSystems',\n  components: { Chat },\n  data() {\n    return {\n      systems: [],\n      loading: false,\n      showForm: false,\n      editing: null,\n      form: {\n        system_id: '',\n        display_name: '',\n        dify_base_url: '',\n        dify_api_key: '',\n        dify_chatbot_token: '',\n        allowed_origins: '',\n        enabled: true\n      },\n      formError: '',\n      saving: false,\n      deleteTarget: null,\n      deleting: false,\n      showTestChat: false,\n      testChatToken: '',\n      testChatSystemId: '',\n      testChatUserId: '',\n      uploadFile: null,\n      uploading: false,\n      uploadResult: '',\n      ragFiles: [],\n      ragFilesLoading: false,\n      deleteRagTarget: null,\n      deletingRag: false,\n      reindexing: false,\n      applyingSettings: false,\n      showSampleModal: false,\n      sampleYaml: ''\n    }\n  },\n  computed: {\n    difyAppsUrl() {\n      const base = (this.form.dify_base_url || 'https://dify.drillquiz.com').trim().replace(/\\/$/, '')\n      return base + '/apps'\n    }\n  },\n  mounted() {\n    const token = localStorage.getItem(TOKEN_KEY)\n    if (!token) {\n      this.$router.replace('/login')\n      return\n    }\n    this.load()\n  },\n  methods: {\n    authHeaders() {\n      const token = localStorage.getItem(TOKEN_KEY)\n      return token ? { 'Authorization': 'Bearer ' + token } : {}\n    },\n    async load() {\n      this.loading = true\n      try {\n        const r = await fetch(API, { headers: this.authHeaders() })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error(await r.text())\n        this.systems = await r.json()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.loading = false\n      }\n    },\n    maskKey(k) {\n      if (!k) return '-'\n      if (k.length <= 8) return '***'\n      return k.slice(0, 4) + '...' + k.slice(-4)\n    },\n    async openTestChat(s) {\n      this.formError = ''\n      try {\n        const r = await fetch(API + '/' + encodeURIComponent(s.system_id) + '/test-token', {\n          headers: this.authHeaders()\n        })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) {\n          const d = await r.json().catch(() => ({}))\n          throw new Error(d.detail || '  ')\n        }\n        const { token } = await r.json()\n        this.testChatToken = token\n        this.testChatSystemId = s.system_id\n        this.testChatUserId = 'admin_test'\n        this.showTestChat = true\n      } catch (e) {\n        this.formError = e.message\n      }\n    },\n    async downloadSampleZip() {\n      this.formError = ''\n      try {\n        const r = await fetch('/v1/admin/sample/download', { headers: this.authHeaders() })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error(' ')\n        const blob = await r.blob()\n        const url = URL.createObjectURL(blob)\n        const a = document.createElement('a')\n        a.href = url\n        a.download = 'chat-admin-sample.zip'\n        a.click()\n        URL.revokeObjectURL(url)\n      } catch (e) {\n        this.formError = e.message\n      }\n    },\n    async openSampleModal() {\n      this.showSampleModal = true\n      if (!this.sampleYaml) {\n        try {\n          const r = await fetch('/drillquiz-rag-openapi.yaml')\n          if (r.ok) this.sampleYaml = await r.text()\n          else this.sampleYaml = '#  '\n        } catch {\n          this.sampleYaml = '#  '\n        }\n      }\n    },\n    closeTestChat() {\n      this.showTestChat = false\n      this.testChatToken = ''\n      this.testChatSystemId = ''\n      this.testChatUserId = ''\n    },\n    async openForm(s) {\n      this.editing = s || null\n      this.formError = ''\n      if (s) {\n        this.form = {\n          system_id: s.system_id,\n          display_name: s.display_name || '',\n          dify_base_url: s.dify_base_url || '',\n          dify_api_key: s.dify_api_key || '',\n          dify_chatbot_token: s.dify_chatbot_token || '',\n          allowed_origins: s.allowed_origins || '',\n          enabled: s.enabled\n        }\n        this.showForm = true\n        await this.loadRagFiles()\n      } else {\n        this.form = {\n          system_id: '',\n          display_name: '',\n          dify_base_url: 'https://dify.drillquiz.com',\n          dify_api_key: '',\n          dify_chatbot_token: '',\n          allowed_origins: '',\n          enabled: true\n        }\n        this.showForm = true\n      }\n    },\n    closeForm() {\n      this.showForm = false\n      this.editing = null\n      this.uploadFile = null\n      this.uploadResult = ''\n      this.ragFiles = []\n      this.deleteRagTarget = null\n    },\n    formatSize(n) {\n      if (!n || n < 1024) return (n || 0) + ' B'\n      if (n < 1024 * 1024) return (n / 1024).toFixed(1) + ' KB'\n      return (n / (1024 * 1024)).toFixed(1) + ' MB'\n    },\n    formatDate(s) {\n      if (!s) return '-'\n      try {\n        const d = new Date(s)\n        return isNaN(d.getTime()) ? s : d.toLocaleString()\n      } catch {\n        return s\n      }\n    },\n    async loadRagFiles() {\n      if (!this.editing) return\n      this.ragFilesLoading = true\n      try {\n        const r = await fetch(API + '/' + encodeURIComponent(this.editing.system_id) + '/files', {\n          headers: this.authHeaders()\n        })\n        if (r.ok) this.ragFiles = await r.json()\n        else this.ragFiles = []\n      } catch {\n        this.ragFiles = []\n      } finally {\n        this.ragFilesLoading = false\n      }\n    },\n    confirmDeleteRagFile(f) {\n      this.deleteRagTarget = f\n      this.deletingRag = false\n    },\n    async triggerReindex() {\n      if (!this.editing) return\n      this.reindexing = true\n      this.formError = ''\n      try {\n        const r = await fetch(API + '/' + encodeURIComponent(this.editing.system_id) + '/trigger-reindex', {\n          method: 'POST',\n          headers: this.authHeaders()\n        })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) {\n          const d = await r.json().catch(() => ({}))\n          throw new Error(d.detail || '  ')\n        }\n        const d = await r.json()\n        this.formError = ''\n        this.uploadResult = `Job : ${d.job_name || ''}`\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.reindexing = false\n      }\n    },\n    async applySettings() {\n      this.applyingSettings = true\n      this.formError = ''\n      try {\n        const r = await fetch(API + '/apply-settings', {\n          method: 'POST',\n          headers: this.authHeaders()\n        })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) {\n          const d = await r.json().catch(() => ({}))\n          throw new Error(d.detail || '  ')\n        }\n        window.location.reload()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.applyingSettings = false\n      }\n    },\n    async doDeleteRagFile() {\n      if (!this.deleteRagTarget || !this.editing) return\n      this.deletingRag = true\n      try {\n        const r = await fetch(\n          API + '/' + encodeURIComponent(this.editing.system_id) + '/files?key=' + encodeURIComponent(this.deleteRagTarget.object_name),\n          { method: 'DELETE', headers: this.authHeaders() }\n        )\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error(await r.text())\n        this.deleteRagTarget = null\n        await this.loadRagFiles()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.deletingRag = false\n      }\n    },\n    onFileSelect(e) {\n      const f = e.target?.files?.[0]\n      this.uploadFile = f || null\n      this.uploadResult = ''\n    },\n    async doUpload() {\n      if (!this.editing || !this.uploadFile) return\n      this.uploading = true\n      this.formError = ''\n      this.uploadResult = ''\n      try {\n        const formData = new FormData()\n        formData.append('file', this.uploadFile)\n        const r = await fetch(API + '/' + encodeURIComponent(this.editing.system_id) + '/upload', {\n          method: 'POST',\n          headers: this.authHeaders(),\n          body: formData\n        })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) {\n          const d = await r.json().catch(() => ({}))\n          throw new Error(d.detail || ' ')\n        }\n        const d = await r.json()\n        this.uploadResult = `${d.count}  : ${d.uploaded?.join(', ') || ''}`\n        this.uploadFile = null\n        if (this.$refs.fileInput) this.$refs.fileInput.value = ''\n        await this.loadRagFiles()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.uploading = false\n      }\n    },\n    async save() {\n      this.formError = ''\n      this.saving = true\n      try {\n        if (this.editing) {\n          const r = await fetch(API + '/' + encodeURIComponent(this.editing.system_id), {\n            method: 'PATCH',\n            headers: { ...this.authHeaders(), 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              display_name: this.form.display_name,\n              dify_base_url: this.form.dify_base_url,\n              dify_api_key: this.form.dify_api_key,\n              dify_chatbot_token: this.form.dify_chatbot_token,\n              allowed_origins: this.form.allowed_origins,\n              enabled: this.form.enabled\n            })\n          })\n          if (r.status === 401) {\n            localStorage.removeItem(TOKEN_KEY)\n            this.$router.replace('/login')\n            return\n          }\n          if (!r.ok) {\n            const d = await r.json().catch(() => ({}))\n            throw new Error(d.detail || ' ')\n          }\n        } else {\n          const r = await fetch(API, {\n            method: 'POST',\n            headers: { ...this.authHeaders(), 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.form)\n          })\n          if (r.status === 401) {\n            localStorage.removeItem(TOKEN_KEY)\n            this.$router.replace('/login')\n            return\n          }\n          if (!r.ok) {\n            const d = await r.json().catch(() => ({}))\n            throw new Error(d.detail || ' ')\n          }\n        }\n        this.closeForm()\n        await this.load()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.saving = false\n      }\n    },\n    confirmDelete(s) {\n      this.deleteTarget = s\n      this.deleting = false\n    },\n    async doDelete() {\n      if (!this.deleteTarget) return\n      this.deleting = true\n      try {\n        const r = await fetch(API + '/' + encodeURIComponent(this.deleteTarget.system_id), {\n          method: 'DELETE',\n          headers: this.authHeaders()\n        })\n        if (r.status === 401) {\n          localStorage.removeItem(TOKEN_KEY)\n          this.$router.replace('/login')\n          return\n        }\n        if (!r.ok) throw new Error(await r.text())\n        this.deleteTarget = null\n        await this.load()\n      } catch (e) {\n        this.formError = e.message\n      } finally {\n        this.deleting = false\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n/* tz-cointutor style - variables */\n.admin-systems-page {\n  --primary: #6366f1;\n  --secondary: #8b5cf6;\n  --dark: #0f172a;\n  --dark-light: #1e293b;\n  --border: rgba(255, 255, 255, 0.1);\n  --border-20: rgba(255, 255, 255, 0.2);\n  background: linear-gradient(to bottom right, var(--dark), var(--dark-light), var(--dark));\n  min-height: calc(100vh - 56px);\n  color: #fff;\n}\n.admin-page { padding: 1.5rem 1rem; max-width: 80rem; margin: 0 auto; }\n.admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 0.75rem; }\n.admin-header h1 { margin: 0; font-size: 1.5rem; font-weight: 700; }\n.header-actions { display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }\n.nav-link { padding: 0.5rem 1rem; background: transparent; color: #9ca3af; text-decoration: none; border-radius: 0.75rem; font-size: 0.9rem; border: 1px solid var(--border-20); transition: all 0.2s; }\n.nav-link:hover { color: var(--primary); border-color: rgba(99, 102, 241, 0.5); }\n.btn-sample-download { border: 1px solid var(--border-20); cursor: pointer; font: inherit; background: transparent; color: #9ca3af; padding: 0.5rem 1rem; border-radius: 0.75rem; transition: all 0.2s; }\n.btn-sample-download:hover { color: var(--primary); border-color: rgba(99, 102, 241, 0.5); }\n.btn-add { padding: 0.5rem 1rem; background: linear-gradient(to right, var(--primary), var(--secondary)); color: #fff; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 600; transition: box-shadow 0.2s; }\n.btn-add:hover { box-shadow: 0 10px 20px rgba(99, 102, 241, 0.4); }\n.systems-table-wrap { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; overflow: hidden; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.systems-table { border-collapse: collapse; width: 100%; }\n.systems-table th, .systems-table td { padding: 0.75rem 1rem; text-align: left; }\n.systems-table thead { background: rgba(15, 23, 42, 0.5); }\n.systems-table th { font-size: 0.875rem; font-weight: 600; color: #d1d5db; }\n.systems-table tbody tr { border-top: 1px solid var(--border); transition: background 0.2s; }\n.systems-table tbody tr:hover { background: rgba(15, 23, 42, 0.5); }\n.url-cell { max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n.key-cell { font-family: monospace; font-size: 0.85em; }\n.btn-test { padding: 0.25rem 0.5rem; background: rgba(99, 102, 241, 0.2); color: var(--primary); border: none; border-radius: 0.5rem; cursor: pointer; margin-right: 0.25rem; font-size: 0.875rem; font-weight: 500; }\n.btn-test:hover { background: rgba(99, 102, 241, 0.3); }\n.btn-edit { padding: 0.25rem 0.5rem; background: rgba(139, 92, 246, 0.2); color: var(--secondary); border: none; border-radius: 0.5rem; cursor: pointer; margin-right: 0.25rem; font-size: 0.875rem; font-weight: 500; }\n.btn-edit:hover { background: rgba(139, 92, 246, 0.3); }\n.btn-del { padding: 0.25rem 0.5rem; background: rgba(239, 68, 68, 0.2); color: #f87171; border: none; border-radius: 0.5rem; cursor: pointer; font-size: 0.875rem; font-weight: 500; }\n.btn-del:hover { background: rgba(239, 68, 68, 0.3); }\n.empty { color: #9ca3af; padding: 2rem; text-align: center; }\n.form-page { max-width: 56rem; }\n.form-page .form-card { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem 2rem; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.form-page h2 { margin: 0 0 1.5rem; font-size: 1.5rem; font-weight: 700; }\n.form-row { margin-bottom: 1.5rem; display: flex; align-items: flex-start; gap: 1rem; }\n.form-row label { flex-shrink: 0; width: 10rem; padding-top: 0.75rem; font-size: 0.875rem; font-weight: 600; color: #d1d5db; }\n.form-row input:not([type=\"checkbox\"]),\n.form-row textarea { flex: 1; min-width: 12rem; padding: 0.75rem 1rem; border: 1px solid var(--border-20); border-radius: 0.75rem; background: var(--dark); color: #fff; font-size: 0.95rem; transition: border-color 0.2s; box-sizing: border-box; -webkit-appearance: none; appearance: none; }\n.form-row input::placeholder,\n.form-row textarea::placeholder { color: rgba(255, 255, 255, 0.5); }\n.form-row textarea { min-height: 4rem; resize: vertical; }\n.form-field { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 0.25rem; }\n.form-row input:focus { outline: none; border-color: var(--primary); }\n.form-row input:disabled { opacity: 0.6; }\n.form-row input[type=\"checkbox\"] { margin-right: 0.5rem; }\n.form-row.rag-files-section { flex-direction: column; }\n.form-row.rag-files-section > label { width: auto; padding-top: 0; margin-bottom: 0.5rem; }\n.form-row-checkbox { align-items: center; }\n.form-row-checkbox > label { width: auto; padding-top: 0; flex: 1; }\n.modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.75); display: flex; align-items: center; justify-content: center; z-index: 1040; padding: 1rem; }\n.modal { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; padding: 1.5rem; min-width: 400px; max-width: 90vw; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }\n.modal h3 { margin: 0 0 1rem; color: #fff; font-weight: 600; }\n.modal p { color: #e5e7eb; }\n.rag-files-section .rag-files-list { margin-bottom: 0.75rem; overflow-x: auto; }\n.rag-files-section .rag-loading, .rag-files-section .rag-empty { font-size: 0.9rem; color: #6b7280; }\n.rag-files-table { width: 100%; min-width: 640px; border-collapse: collapse; font-size: 0.9rem; }\n.rag-files-table th, .rag-files-table td { padding: 0.5rem 0.75rem; text-align: left; border: 1px solid var(--border); }\n.rag-files-table th { background: rgba(15, 23, 42, 0.5); color: #9ca3af; }\n.btn-del-small { padding: 0.2rem 0.5rem; font-size: 0.8rem; background: rgba(239, 68, 68, 0.2); color: #f87171; border: none; border-radius: 0.5rem; cursor: pointer; }\n.btn-del-small:hover { background: rgba(239, 68, 68, 0.3); }\n.rag-table-actions { margin-bottom: 0.75rem; display: flex; gap: 0.5rem; flex-wrap: wrap; }\n.btn-reindex { padding: 0.5rem 1rem; background: rgba(99, 102, 241, 0.2); color: #fff; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 500; }\n.btn-reindex:hover:not(:disabled) { background: rgba(99, 102, 241, 0.3); }\n.btn-reindex:disabled { opacity: 0.6; cursor: not-allowed; }\n.btn-apply-settings { padding: 0.5rem 1rem; background: rgba(34, 197, 94, 0.2); color: #4ade80; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 500; }\n.btn-apply-settings:hover:not(:disabled) { background: rgba(34, 197, 94, 0.3); }\n.btn-apply-settings:disabled { opacity: 0.6; cursor: not-allowed; }\n.btn-apply-settings-header { padding: 0.5rem 1rem; background: rgba(34, 197, 94, 0.2); color: #4ade80; border: 1px solid rgba(34, 197, 94, 0.4); border-radius: 0.75rem; cursor: pointer; font-weight: 500; font-size: 0.9rem; }\n.btn-apply-settings-header:hover:not(:disabled) { background: rgba(34, 197, 94, 0.3); }\n.btn-apply-settings-header:disabled { opacity: 0.6; cursor: not-allowed; }\n.applying-overlay { pointer-events: all; }\n.applying-panel { background: linear-gradient(to bottom right, var(--dark-light), var(--dark)); border: 1px solid var(--border); border-radius: 1rem; padding: 2rem; display: flex; flex-direction: column; align-items: center; gap: 1rem; min-width: 280px; }\n.applying-text { margin: 0; color: #fff; font-weight: 600; }\n.applying-hint { margin: 0; color: #9ca3af; font-size: 0.9rem; }\n.spinner { width: 40px; height: 40px; border: 3px solid rgba(255, 255, 255, 0.2); border-top-color: var(--primary); border-radius: 50%; animation: spin 0.8s linear infinite; }\n@keyframes spin { to { transform: rotate(360deg); } }\n.rag-files-section .upload-controls { display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }\n.upload-filename { font-size: 0.9rem; color: #9ca3af; }\n.btn-upload, .btn-do-upload { padding: 0.5rem 1rem; background: rgba(15, 23, 42, 0.6); color: #9ca3af; border: 1px solid var(--border); border-radius: 0.75rem; cursor: pointer; }\n.btn-upload:hover, .btn-do-upload:hover { background: rgba(30, 41, 59, 0.8); color: #fff; }\n.btn-do-upload { background: rgba(99, 102, 241, 0.2); color: var(--primary); }\n.btn-do-upload:hover:not(:disabled) { background: rgba(99, 102, 241, 0.3); }\n.btn-do-upload:disabled { opacity: 0.6; cursor: not-allowed; }\n.upload-result { font-size: 0.85rem; color: #4ade80; margin-top: 0.5rem; }\n.hint { font-size: 0.8rem; color: #6b7280; margin-left: 0; margin-top: 0.25rem; display: block; }\n.dify-apps-link { color: var(--primary); text-decoration: none; }\n.dify-apps-link:hover { text-decoration: underline; }\n.form-actions { display: flex; gap: 0.5rem; justify-content: flex-end; margin-top: 1.5rem; }\n.btn-cancel { padding: 0.5rem 1rem; border: 2px solid var(--border-20); background: transparent; color: #e5e7eb; border-radius: 0.75rem; cursor: pointer; font-weight: 500; }\n.btn-cancel:hover { background: rgba(255, 255, 255, 0.05); }\n.btn-save { padding: 0.5rem 1rem; background: linear-gradient(to right, var(--primary), var(--secondary)); color: #fff; border: none; border-radius: 0.75rem; cursor: pointer; font-weight: 600; }\n.btn-save:hover:not(:disabled) { box-shadow: 0 10px 20px rgba(99, 102, 241, 0.4); }\n.btn-save:disabled { opacity: 0.5; cursor: not-allowed; }\n.error { color: #f87171; font-size: 0.9rem; }\n.modal-chat { min-width: 600px; max-width: 95vw; width: 800px; padding: 0; overflow: hidden; display: flex; flex-direction: column; max-height: 85vh; }\n.modal-chat-header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid var(--border); }\n.modal-chat-header h3 { margin: 0; font-size: 1rem; color: #fff; }\n.btn-close { padding: 0.5rem 1rem; background: rgba(100, 116, 139, 0.3); color: #fff; border: none; border-radius: 0.75rem; cursor: pointer; }\n.btn-close:hover { background: rgba(100, 116, 139, 0.5); }\n.modal-chat-body { flex: 1; min-height: 0; overflow: hidden; background: #fff; }\n.modal-sample { max-width: 700px; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column; }\n.modal-sample h3 { margin: 0 0 0.5rem; }\n.sample-hint { font-size: 0.85rem; color: #9ca3af; margin: 0 0 0.5rem; }\n.sample-code { flex: 1; overflow: auto; background: var(--dark); padding: 1rem; border-radius: 0.75rem; font-size: 0.8rem; line-height: 1.4; color: #e2e8f0; margin: 0; white-space: pre-wrap; word-break: break-all; }\n.sample-link-wrap { display: block; margin-top: 0.5rem; }\n.btn-sample { padding: 0.25rem 0.5rem; font-size: 0.85rem; background: rgba(15, 23, 42, 0.6); color: #9ca3af; border: 1px solid var(--border-20); border-radius: 0.5rem; cursor: pointer; }\n.btn-sample:hover { background: rgba(30, 41, 59, 0.8); color: #fff; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminSystems.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminSystems.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AdminSystems.vue?vue&type=template&id=3b192bfb&scoped=true\"\nimport script from \"./AdminSystems.vue?vue&type=script&lang=js\"\nexport * from \"./AdminSystems.vue?vue&type=script&lang=js\"\nimport style0 from \"./AdminSystems.vue?vue&type=style&index=0&id=3b192bfb&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3b192bfb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile-page\"},[_c('div',{staticClass:\"profile-card\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('profile.title')))]),_c('p',{staticClass:\"subtitle\"},[_vm._v(_vm._s(_vm.$t('profile.subtitle')))]),(_vm.profile)?_c('section',{staticClass:\"profile-section\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('profile.basicInfo')))]),_c('form',{staticClass:\"profile-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleUpdateProfile.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(_vm._s(_vm.$t('common.username')))]),_c('input',{staticClass:\"form-input form-input-readonly\",attrs:{\"id\":\"username\",\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":_vm.profile.username}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(_vm._s(_vm.$t('common.name')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileForm.name),expression:\"profileForm.name\"}],staticClass:\"form-input\",attrs:{\"id\":\"name\",\"type\":\"text\",\"placeholder\":_vm.$t('common.name'),\"maxlength\":\"128\"},domProps:{\"value\":(_vm.profileForm.name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.profileForm, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(_vm._s(_vm.$t('common.email')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.profileForm.email),expression:\"profileForm.email\"}],staticClass:\"form-input\",attrs:{\"id\":\"email\",\"type\":\"email\",\"placeholder\":_vm.$t('common.email')},domProps:{\"value\":(_vm.profileForm.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.profileForm, \"email\", $event.target.value)}}})]),(_vm.profileError)?_c('p',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.profileError))]):_vm._e(),(_vm.profileSuccess)?_c('p',{staticClass:\"success-msg\"},[_vm._v(_vm._s(_vm.profileSuccess))]):_vm._e(),_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.profileLoading}},[_vm._v(\" \"+_vm._s(_vm.profileLoading ? _vm.$t('common.saving') : _vm.$t('common.save'))+\" \")])])]):_vm._e(),_c('section',{staticClass:\"password-section\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('profile.changePassword')))]),_c('form',{staticClass:\"profile-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleChangePassword.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"current\"}},[_vm._v(_vm._s(_vm.$t('profile.currentPassword')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordForm.current_password),expression:\"passwordForm.current_password\"}],staticClass:\"form-input\",attrs:{\"id\":\"current\",\"type\":\"password\",\"placeholder\":_vm.$t('profile.currentPassword'),\"required\":\"\"},domProps:{\"value\":(_vm.passwordForm.current_password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.passwordForm, \"current_password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"new\"}},[_vm._v(_vm._s(_vm.$t('profile.newPassword')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordForm.new_password),expression:\"passwordForm.new_password\"}],staticClass:\"form-input\",attrs:{\"id\":\"new\",\"type\":\"password\",\"placeholder\":_vm.$t('profile.newPasswordPlaceholder'),\"required\":\"\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.passwordForm.new_password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.passwordForm, \"new_password\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"confirm\"}},[_vm._v(_vm._s(_vm.$t('profile.newPasswordConfirm')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordForm.new_password_confirm),expression:\"passwordForm.new_password_confirm\"}],staticClass:\"form-input\",attrs:{\"id\":\"confirm\",\"type\":\"password\",\"placeholder\":_vm.$t('profile.newPasswordConfirmPlaceholder'),\"required\":\"\",\"minlength\":\"6\"},domProps:{\"value\":(_vm.passwordForm.new_password_confirm)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.passwordForm, \"new_password_confirm\", $event.target.value)}}})]),(_vm.error)?_c('p',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(_vm.success)?_c('p',{staticClass:\"success-msg\"},[_vm._v(_vm._s(_vm.success))]):_vm._e(),_c('button',{staticClass:\"btn-submit\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\" \"+_vm._s(_vm.loading ? _vm.$t('common.saving') : _vm.$t('profile.changePassword'))+\" \")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile-page\">\n    <div class=\"profile-card\">\n      <h1>{{ $t('profile.title') }}</h1>\n      <p class=\"subtitle\">{{ $t('profile.subtitle') }}</p>\n\n      <section v-if=\"profile\" class=\"profile-section\">\n        <h2>{{ $t('profile.basicInfo') }}</h2>\n        <form @submit.prevent=\"handleUpdateProfile\" class=\"profile-form\">\n          <div class=\"form-group\">\n            <label for=\"username\">{{ $t('common.username') }}</label>\n            <input\n              id=\"username\"\n              :value=\"profile.username\"\n              type=\"text\"\n              class=\"form-input form-input-readonly\"\n              disabled\n            >\n          </div>\n          <div class=\"form-group\">\n            <label for=\"name\">{{ $t('common.name') }}</label>\n            <input\n              id=\"name\"\n              v-model=\"profileForm.name\"\n              type=\"text\"\n              class=\"form-input\"\n              :placeholder=\"$t('common.name')\"\n              maxlength=\"128\"\n            >\n          </div>\n          <div class=\"form-group\">\n            <label for=\"email\">{{ $t('common.email') }}</label>\n            <input\n              id=\"email\"\n              v-model=\"profileForm.email\"\n              type=\"email\"\n              class=\"form-input\"\n              :placeholder=\"$t('common.email')\"\n            >\n          </div>\n          <p v-if=\"profileError\" class=\"error-msg\">{{ profileError }}</p>\n          <p v-if=\"profileSuccess\" class=\"success-msg\">{{ profileSuccess }}</p>\n          <button type=\"submit\" class=\"btn-submit\" :disabled=\"profileLoading\">\n            {{ profileLoading ? $t('common.saving') : $t('common.save') }}\n          </button>\n        </form>\n      </section>\n\n      <section class=\"password-section\">\n        <h2>{{ $t('profile.changePassword') }}</h2>\n        <form @submit.prevent=\"handleChangePassword\" class=\"profile-form\">\n          <div class=\"form-group\">\n            <label for=\"current\">{{ $t('profile.currentPassword') }}</label>\n            <input\n              id=\"current\"\n              v-model=\"passwordForm.current_password\"\n              type=\"password\"\n              class=\"form-input\"\n              :placeholder=\"$t('profile.currentPassword')\"\n              required\n            >\n          </div>\n          <div class=\"form-group\">\n            <label for=\"new\">{{ $t('profile.newPassword') }}</label>\n            <input\n              id=\"new\"\n              v-model=\"passwordForm.new_password\"\n              type=\"password\"\n              class=\"form-input\"\n              :placeholder=\"$t('profile.newPasswordPlaceholder')\"\n              required\n              minlength=\"6\"\n            >\n          </div>\n          <div class=\"form-group\">\n            <label for=\"confirm\">{{ $t('profile.newPasswordConfirm') }}</label>\n            <input\n              id=\"confirm\"\n              v-model=\"passwordForm.new_password_confirm\"\n              type=\"password\"\n              class=\"form-input\"\n              :placeholder=\"$t('profile.newPasswordConfirmPlaceholder')\"\n              required\n              minlength=\"6\"\n            >\n          </div>\n          <p v-if=\"error\" class=\"error-msg\">{{ error }}</p>\n          <p v-if=\"success\" class=\"success-msg\">{{ success }}</p>\n          <button type=\"submit\" class=\"btn-submit\" :disabled=\"loading\">\n            {{ loading ? $t('common.saving') : $t('profile.changePassword') }}\n          </button>\n        </form>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nconst TOKEN_KEY = 'admin_token'\n\nexport default {\n  name: 'Profile',\n  data() {\n    return {\n      profile: null,\n      profileForm: { name: '', email: '' },\n      profileLoading: false,\n      profileError: '',\n      profileSuccess: '',\n      passwordForm: {\n        current_password: '',\n        new_password: '',\n        new_password_confirm: ''\n      },\n      loading: false,\n      error: '',\n      success: ''\n    }\n  },\n  mounted() {\n    const token = localStorage.getItem(TOKEN_KEY)\n    if (!token) {\n      this.$router.replace('/login')\n      return\n    }\n    this.loadProfile()\n  },\n  methods: {\n    authHeaders() {\n      const token = localStorage.getItem(TOKEN_KEY)\n      return token ? { 'Authorization': 'Bearer ' + token } : {}\n    },\n    async loadProfile() {\n      try {\n        const r = await fetch('/v1/admin/profile', {\n          headers: this.authHeaders()\n        })\n        if (!r.ok) {\n          if (r.status === 401) this.$router.replace('/login')\n          return\n        }\n        const data = await r.json()\n        this.profile = data\n        this.profileForm = { name: data.name || '', email: data.email || '' }\n      } catch {\n        this.profile = null\n      }\n    },\n    async handleUpdateProfile() {\n      this.profileError = ''\n      this.profileSuccess = ''\n      this.profileLoading = true\n      try {\n        const r = await fetch('/v1/admin/profile', {\n          method: 'PATCH',\n          headers: {\n            'Content-Type': 'application/json',\n            ...this.authHeaders()\n          },\n          body: JSON.stringify({\n            name: this.profileForm.name.trim(),\n            email: this.profileForm.email.trim() || null\n          })\n        })\n        const data = await r.json().catch(() => ({}))\n        if (!r.ok) {\n          const msg = Array.isArray(data.detail) ? data.detail.map(d => d.msg).join(', ') : (data.detail || this.$t('profile.saveError'))\n          throw new Error(msg)\n        }\n        this.profile = data\n        this.profileForm = { name: data.name || '', email: data.email || '' }\n        this.profileSuccess = this.$t('profile.saveSuccess')\n      } catch (e) {\n        this.profileError = e.message || this.$t('profile.saveError')\n      } finally {\n        this.profileLoading = false\n      }\n    },\n    async handleChangePassword() {\n      this.error = ''\n      this.success = ''\n      if (this.passwordForm.new_password !== this.passwordForm.new_password_confirm) {\n        this.error = this.$t('profile.newPasswordMismatch')\n        return\n      }\n      if (this.passwordForm.new_password.length < 6) {\n        this.error = this.$t('profile.newPasswordMinLength')\n        return\n      }\n      this.loading = true\n      try {\n        const r = await fetch('/v1/admin/profile/password', {\n          method: 'PATCH',\n          headers: {\n            'Content-Type': 'application/json',\n            ...this.authHeaders()\n          },\n          body: JSON.stringify({\n            current_password: this.passwordForm.current_password,\n            new_password: this.passwordForm.new_password,\n            new_password_confirm: this.passwordForm.new_password_confirm\n          })\n        })\n        const data = await r.json().catch(() => ({}))\n        if (!r.ok) {\n          const msg = Array.isArray(data.detail) ? data.detail.map(d => d.msg).join(', ') : (data.detail || this.$t('profile.passwordChangeError'))\n          throw new Error(msg)\n        }\n        this.success = this.$t('profile.passwordChanged')\n        this.passwordForm = { current_password: '', new_password: '', new_password_confirm: '' }\n      } catch (e) {\n        this.error = e.message || this.$t('profile.passwordChangeError')\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.profile-page {\n  min-height: calc(100vh - 56px);\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  padding: 2rem;\n  background: var(--bg, #0f172a);\n  color: #f1f5f9;\n}\n.profile-card {\n  width: 100%;\n  max-width: 420px;\n  background: var(--surface, #1e293b);\n  border-radius: 12px;\n  padding: 2rem;\n  border: 1px solid rgba(255,255,255,0.06);\n}\n.profile-card h1 { font-size: 1.5rem; margin: 0 0 0.5rem; color: #f1f5f9; }\n.subtitle { color: #94a3b8; font-size: 0.9rem; margin-bottom: 1.5rem; }\n.profile-section { margin-bottom: 1.5rem; }\n.profile-section h2,\n.password-section h2 { font-size: 1.1rem; color: #e2e8f0; margin: 0 0 1rem; }\n.password-section { padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.06); }\n.form-input-readonly { opacity: 0.7; cursor: not-allowed; }\n.profile-form { display: flex; flex-direction: column; gap: 1.25rem; }\n.form-group { display: flex; flex-direction: column; gap: 0.4rem; }\n.form-group label { font-size: 0.85rem; font-weight: 600; color: #94a3b8; }\n.form-input {\n  padding: 0.6rem 0.9rem;\n  border: 1px solid rgba(255,255,255,0.15);\n  border-radius: 8px;\n  background: #0f172a;\n  color: #f1f5f9;\n  font-size: 1rem;\n}\n.form-input:focus { outline: none; border-color: #38bdf8; }\n.error-msg { color: #f87171; font-size: 0.9rem; margin: 0; }\n.success-msg { color: #34d399; font-size: 0.9rem; margin: 0; }\n.btn-submit {\n  padding: 0.75rem 1rem;\n  background: #2563eb;\n  color: #fff;\n  border: none;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n}\n.btn-submit:hover:not(:disabled) { background: #1d4ed8; }\n.btn-submit:disabled { opacity: 0.6; cursor: not-allowed; }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=78b9d1de&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=78b9d1de&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78b9d1de\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Intro from '../views/Intro.vue'\nimport About from '../views/About.vue'\nimport Chat from '../views/Chat.vue'\nimport Login from '../views/Login.vue'\nimport Register from '../views/Register.vue'\nimport Admin from '../views/Admin.vue'\nimport AdminSystems from '../views/AdminSystems.vue'\nimport Profile from '../views/Profile.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  { path: '/', redirect: '/admin/systems' },\n  { path: '/intro', name: 'Intro', component: Intro },\n  { path: '/about', name: 'About', component: About },\n  { path: '/login', name: 'Login', component: Login },\n  { path: '/register', name: 'Register', component: Register },\n  { path: '/admin', name: 'Admin', component: Admin },\n  { path: '/admin/systems', name: 'AdminSystems', component: AdminSystems },\n  { path: '/admin/profile', name: 'Profile', component: Profile },\n  { path: '/chat', name: 'Chat', component: Chat }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","export default {\n  common: {\n    save: '',\n    saving: ' ...',\n    cancel: '',\n    close: '',\n    delete: '',\n    deleting: ' ...',\n    add: '',\n    edit: '',\n    search: '',\n    test: '',\n    enabled: '',\n    name: '',\n    email: '',\n    username: '',\n    password: '',\n    passwordConfirm: ' '\n  },\n  menu: {\n    appName: 'TZ-Chat Gateway',\n    chatManage: '',\n    chatList: '',\n    logout: '',\n    about: 'About',\n    register: '',\n    login: ''\n  },\n  auth: {\n    login: '',\n    loginSubtitle: '   .',\n    loginButton: '',\n    loggingIn: ' ...',\n    loginFailed: ' ',\n    loginError: ' .',\n    tokenError: '  .',\n    register: ' ',\n    registerSubtitle: '   .',\n    registerButton: '',\n    registering: ' ...',\n    registerLink: '  ?',\n    registerFailed: ' ',\n    registerError: ' .',\n    usernamePlaceholder: '',\n    loginIdPlaceholder: '  ',\n    namePlaceholder: '',\n    emailPlaceholder: 'your@email.com',\n    passwordPlaceholder: ' (6 )',\n    passwordConfirmPlaceholder: ' ',\n    passwordMinLength: ' 6  .',\n    passwordMismatch: '  .'\n  },\n  profile: {\n    title: '',\n    subtitle: '     .',\n    basicInfo: ' ',\n    changePassword: ' ',\n    currentPassword: ' ',\n    newPassword: ' ',\n    newPasswordPlaceholder: '  (6 )',\n    newPasswordConfirm: '  ',\n    newPasswordConfirmPlaceholder: '   ',\n    saveSuccess: '.',\n    saveError: ' .',\n    passwordChanged: ' .',\n    passwordChangeError: '  .',\n    newPasswordMismatch: '   .',\n    newPasswordMinLength: '  6  .'\n  },\n  admin: {\n    chatList: ' ',\n    system: 'System',\n    user: 'User',\n    from: 'From',\n    to: 'To',\n    selectAll: ' ',\n    deselectAll: ' ',\n    deleteSelected: ' ',\n    messages: 'Messages',\n    msgUser: 'User',\n    msgBot: 'Bot',\n    emptySearchHint: '    .',\n    noConversations: '   .',\n    created: 'Created'\n  },\n  systems: {\n    title: ' ',\n    chatList: ' ',\n    sampleCode: '',\n    applySettings: ' ',\n    applyingSettings: ' ...',\n    add: '',\n    addSystem: ' ',\n    editSystem: ' ',\n    displayName: '',\n    difyBaseUrl: 'Dify Base URL',\n    difyApp: 'Dify ',\n    difyAppsCheck: 'Dify   ',\n    difyAppsCreate: 'Dify   ',\n    difyHintEdit: 'API Key Chatbot Token .',\n    difyHintCreate: \"   '' API Key Chatbot Token .\",\n    dslSample: 'DSL ',\n    difyApiKey: 'Dify API Key',\n    difyChatbotToken: 'Dify Chatbot Token ()',\n    difyChatbotTokenPlaceholder: 'Dify Publish    ',\n    allowedOrigins: 'Allowed Origins ( )',\n    active: '',\n    ragFiles: 'MinIO RAG ',\n    filename: '',\n    size: '',\n    modified: '',\n    loadingFiles: '  ...',\n    noFiles: '  ',\n    selectFile: ' ',\n    uploading: ' ...',\n    upload: '',\n    uploadHint: 'PDF, TXT, MD  ZIP (   )',\n    ragRun: 'RAG ',\n    running: ' ...',\n    manage: '',\n    noSystems: \"  . ''  .\",\n    confirmDelete: ' ',\n    deleteSystemConfirm: ' ?',\n    deleteRagFile: 'RAG  ',\n    deleteRagConfirm: '?',\n    sampleYamlTitle: 'drillquiz-rag-openapi.yaml ',\n    sampleYamlHint: 'Dify \"Create custom tool\"  schema  ',\n    chatTest: ' ',\n    restarting: 'chat-gateway  ...',\n    restartHint: '   ( 2)'\n  },\n  about: {\n    title: 'TZ-Chat Gateway',\n    tagline: 'Unified chat API in front of Dify. Part of the tz-chatbot stack.',\n    whatIs: 'What this is',\n    project: 'Project: tz-chatbot',\n    workflow: '1. Workflow',\n    howItWorks: '2. How the app operates',\n    aboutDetail: 'About ()'\n  },\n  intro: {\n    tagline: 'Unified chat API in front of Dify. Part of the tz-chatbot stack.',\n    whatIs: 'What this is',\n    project: 'Project: tz-chatbot',\n    workflow: '1. Workflow',\n    aboutDetail: 'About ()',\n    chatPage: 'Chat page',\n    apiDocs: 'API docs (OpenAPI)',\n    githubSource: 'GitHub source'\n  }\n}\n","export default {\n  common: {\n    save: 'Save',\n    saving: 'Saving...',\n    cancel: 'Cancel',\n    close: 'Close',\n    delete: 'Delete',\n    deleting: 'Deleting...',\n    add: 'Add',\n    edit: 'Edit',\n    search: 'Search',\n    test: 'Test',\n    enabled: 'Enabled',\n    name: 'Name',\n    email: 'Email',\n    username: 'Username',\n    password: 'Password',\n    passwordConfirm: 'Confirm password'\n  },\n  menu: {\n    appName: 'TZ-Chat Gateway',\n    chatManage: 'Chat Manage',\n    chatList: 'Chat List',\n    logout: 'Logout',\n    about: 'About',\n    register: 'Register',\n    login: 'Login'\n  },\n  auth: {\n    login: 'Login',\n    loginSubtitle: 'Log in to the chat management page.',\n    loginButton: 'Login',\n    loggingIn: 'Logging in...',\n    loginFailed: 'Login failed',\n    loginError: 'Login failed.',\n    tokenError: 'Failed to receive token.',\n    register: 'Admin Registration',\n    registerSubtitle: 'Create an account for chat management.',\n    registerButton: 'Register',\n    registering: 'Registering...',\n    registerLink: 'Already have an account?',\n    registerFailed: 'Registration failed',\n    registerError: 'Registration failed.',\n    usernamePlaceholder: 'Username',\n    loginIdPlaceholder: 'Login ID',\n    namePlaceholder: 'Name',\n    emailPlaceholder: 'your@email.com',\n    passwordPlaceholder: 'Password (min 6 chars)',\n    passwordConfirmPlaceholder: 'Confirm password',\n    passwordMinLength: 'Password must be at least 6 characters.',\n    passwordMismatch: 'Passwords do not match.'\n  },\n  profile: {\n    title: 'Profile',\n    subtitle: 'Edit your profile information and password.',\n    basicInfo: 'Basic Info',\n    changePassword: 'Change Password',\n    currentPassword: 'Current password',\n    newPassword: 'New password',\n    newPasswordPlaceholder: 'New password (min 6 chars)',\n    newPasswordConfirm: 'Confirm new password',\n    newPasswordConfirmPlaceholder: 'Re-enter new password',\n    saveSuccess: 'Saved.',\n    saveError: 'Save failed.',\n    passwordChanged: 'Password changed.',\n    passwordChangeError: 'Failed to change password.',\n    newPasswordMismatch: 'New passwords do not match.',\n    newPasswordMinLength: 'New password must be at least 6 characters.'\n  },\n  admin: {\n    chatList: 'Chat List',\n    system: 'System',\n    user: 'User',\n    from: 'From',\n    to: 'To',\n    selectAll: 'Select All',\n    deselectAll: 'Deselect',\n    deleteSelected: 'Delete Selected',\n    messages: 'Messages',\n    msgUser: 'User',\n    msgBot: 'Bot',\n    emptySearchHint: 'Enter search criteria and click Search.',\n    noConversations: 'No conversations match.',\n    created: 'Created'\n  },\n  systems: {\n    title: 'Chat Manage',\n    chatList: 'Chat List',\n    sampleCode: 'Sample Code',\n    applySettings: 'Apply Settings',\n    applyingSettings: 'Applying...',\n    add: 'Add',\n    addSystem: 'Add System',\n    editSystem: 'Edit System',\n    displayName: 'Display Name',\n    difyBaseUrl: 'Dify Base URL',\n    difyApp: 'Dify App',\n    difyAppsCheck: 'Check app in Dify ',\n    difyAppsCreate: 'Create app in Dify ',\n    difyHintEdit: 'Enter API Key and Chatbot Token.',\n    difyHintCreate: \"After creating the app, enter API Key and Chatbot Token in 'Edit'.\",\n    dslSample: 'DSL Sample',\n    difyApiKey: 'Dify API Key',\n    difyChatbotToken: 'Dify Chatbot Token (embed)',\n    difyChatbotTokenPlaceholder: 'Dify Publish  Embed',\n    allowedOrigins: 'Allowed Origins (comma-separated)',\n    active: 'Active',\n    ragFiles: 'MinIO RAG files',\n    filename: 'Filename',\n    size: 'Size',\n    modified: 'Modified',\n    loadingFiles: 'Loading...',\n    noFiles: 'No files',\n    selectFile: 'Select file',\n    uploading: 'Uploading...',\n    upload: 'Upload',\n    uploadHint: 'PDF, TXT, MD or ZIP',\n    ragRun: 'RAG Run',\n    running: 'Running...',\n    manage: 'Manage',\n    noSystems: 'No systems. Click Add to register.',\n    confirmDelete: 'Confirm Delete',\n    deleteSystemConfirm: 'Delete this?',\n    deleteRagFile: 'Delete RAG File',\n    deleteRagConfirm: 'Delete this file?',\n    sampleYamlTitle: 'drillquiz-rag-openapi.yaml Sample',\n    sampleYamlHint: 'Dify \"Create custom tool\"  paste in schema field',\n    chatTest: 'Chat Test',\n    restarting: 'Restarting chat-gateway...',\n    restartHint: 'Please wait (up to 2 min)'\n  },\n  about: {\n    title: 'TZ-Chat Gateway',\n    tagline: 'Unified chat API in front of Dify. Part of the tz-chatbot stack.',\n    whatIs: 'What this is',\n    project: 'Project: tz-chatbot',\n    workflow: '1. Workflow',\n    howItWorks: '2. How the app operates',\n    aboutDetail: 'About (detail)'\n  },\n  intro: {\n    tagline: 'Unified chat API in front of Dify. Part of the tz-chatbot stack.',\n    whatIs: 'What this is',\n    project: 'Project: tz-chatbot',\n    workflow: '1. Workflow',\n    aboutDetail: 'About (detail)',\n    chatPage: 'Chat page',\n    apiDocs: 'API docs (OpenAPI)',\n    githubSource: 'GitHub source'\n  }\n}\n","import Vue from 'vue'\nimport VueI18n from 'vue-i18n'\nimport ko from './locales/ko'\nimport en from './locales/en'\n\nVue.use(VueI18n)\n\nconst defaultLanguage = 'ko'\n\nconst i18n = new VueI18n({\n  locale: defaultLanguage,\n  fallbackLocale: 'en',\n  messages: {\n    ko,\n    en\n  },\n  silentTranslationWarn: process.env.NODE_ENV === 'production',\n  missing: (locale, key) => key\n})\n\nfunction changeLanguage(language) {\n  if (['ko', 'en'].includes(language)) {\n    i18n.locale = language\n    localStorage.setItem('language', language)\n    return true\n  }\n  return false\n}\n\nfunction initLanguage() {\n  const saved = localStorage.getItem('language')\n  const browser = (navigator.language || navigator.userLanguage || 'en').toLowerCase()\n  const detected = browser.startsWith('ko') ? 'ko' : 'en'\n  const lang = saved || detected\n  changeLanguage(lang)\n}\n\ninitLanguage()\n\nVue.prototype.$changeLanguage = changeLanguage\n\nexport default i18n\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport i18n from './i18n'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  i18n,\n  render: h => h(App)\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchat_gateway_frontend\"] = self[\"webpackChunkchat_gateway_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6948); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","_s","$t","isAdminArea","_e","on","$event","showLangMenu","currentLangLabel","preventDefault","$changeLanguage","adminUsername","logout","staticRenderFns","TOKEN_KEY","parseUsernameFromToken","token","parts","split","length","payload","JSON","parse","atob","replace","sub","name","data","computed","$i18n","locale","$route","path","startsWith","localStorage","getItem","methods","removeItem","$router","component","_m","apiBase","API_BASE","process","VUE_APP_API_BASE","_chatUrl","_fromEnv","includes","CHAT_GATEWAY_URL","window","location","hostname","host","protocol","origin","chatApiBase","init","class","inModal","embed","systemId","userId","newConversation","t","sendNew","_l","conversations","c","key","id","active","currentConversationId","selectConversation","stopPropagation","deleteConversation","ref","directives","rawName","value","messages","expression","emptyText","m","i","role","me","bot","domProps","escapeHtml","content","error","inputText","placeholder","type","indexOf","_k","keyCode","sendMessage","apply","arguments","target","composing","send","ALLOWED_LANGS","UI","en","empty","emptyFull","errorList","errorMessages","errorSend","es","ko","zh","ja","resolveLang","langParam","nav","navigator","language","userLanguage","toLowerCase","props","chatToken","String","default","chatSystemId","chatUserId","Boolean","lang","raw","__CHAT_INIT__","params","URLSearchParams","search","get","system_id","user_id","_","undefined","mounted","loadConversations","updated","$nextTick","el","$refs","scrollTop","scrollHeight","authHeader","s","div","document","createElement","textContent","innerHTML","r","fetch","encodeURIComponent","headers","ok","Error","json","e","message","method","text","err","j","detail","stringify","map","trim","push","body","inputs","conversation_id","errText","answer","handleLogin","username","password","loading","catch","access_token","setItem","handleRegister","email","passwordConfirm","password_confirm","Array","isArray","msg","filters","$set","fromDate","toDate","doSearch","toggleSelectAll","allSelected","selectedIds","size","deleting","deleteSelected","isSelected","loadMessages","toggleSelect","formatDate","created_at","hasSearched","selectedConv","message_id","Set","authHeaders","sys","usr","set","toString","status","url","_convKey","has","k","delete","add","toDelete","filter","failed","iso","d","Date","isNaN","getTime","toLocaleString","downloadSampleZip","applyingSettings","applySettings","openForm","showForm","editing","save","form","display_name","dify_base_url","difyAppsUrl","openSampleModal","dify_api_key","dify_chatbot_token","allowed_origins","enabled","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","ragFilesLoading","ragFiles","f","object_name","filename","formatSize","last_modified","confirmDeleteRagFile","staticStyle","onFileSelect","fileInput","click","uploadFile","uploading","doUpload","uploadResult","reindexing","triggerReindex","formError","closeForm","saving","systems","maskKey","openTestChat","confirmDelete","deleteTarget","currentTarget","doDelete","deleteRagTarget","deletingRag","doDeleteRagFile","showSampleModal","sampleYaml","showTestChat","closeTestChat","testChatSystemId","testChatToken","testChatUserId","API","components","Chat","base","load","blob","URL","createObjectURL","a","href","download","revokeObjectURL","loadRagFiles","n","toFixed","job_name","reload","files","formData","FormData","append","count","uploaded","join","profile","handleUpdateProfile","profileForm","profileError","profileSuccess","profileLoading","handleChangePassword","passwordForm","current_password","new_password","new_password_confirm","success","loadProfile","Vue","use","VueRouter","routes","redirect","Intro","About","Login","Register","Admin","AdminSystems","Profile","router","mode","common","cancel","close","edit","test","menu","appName","chatManage","chatList","about","register","login","auth","loginSubtitle","loginButton","loggingIn","loginFailed","loginError","tokenError","registerSubtitle","registerButton","registering","registerLink","registerFailed","registerError","usernamePlaceholder","loginIdPlaceholder","namePlaceholder","emailPlaceholder","passwordPlaceholder","passwordConfirmPlaceholder","passwordMinLength","passwordMismatch","title","subtitle","basicInfo","changePassword","currentPassword","newPassword","newPasswordPlaceholder","newPasswordConfirm","newPasswordConfirmPlaceholder","saveSuccess","saveError","passwordChanged","passwordChangeError","newPasswordMismatch","newPasswordMinLength","admin","system","user","from","to","selectAll","deselectAll","msgUser","msgBot","emptySearchHint","noConversations","created","sampleCode","addSystem","editSystem","displayName","difyBaseUrl","difyApp","difyAppsCheck","difyAppsCreate","difyHintEdit","difyHintCreate","dslSample","difyApiKey","difyChatbotToken","difyChatbotTokenPlaceholder","allowedOrigins","modified","loadingFiles","noFiles","selectFile","upload","uploadHint","ragRun","running","manage","noSystems","deleteSystemConfirm","deleteRagFile","deleteRagConfirm","sampleYamlTitle","sampleYamlHint","chatTest","restarting","restartHint","tagline","whatIs","project","workflow","howItWorks","aboutDetail","intro","chatPage","apiDocs","githubSource","VueI18n","defaultLanguage","i18n","fallbackLocale","silentTranslationWarn","missing","changeLanguage","initLanguage","saved","browser","detected","prototype","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","splice","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}