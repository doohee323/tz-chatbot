# 슬라이드 03: 디렉터리 구조

## 슬라이드 내용 (한 장)

**루트 기준 주요 디렉터리**

| 디렉터리 | 설명 |
|----------|------|
| chat-admin/ | 관리 UI (Vue+FastAPI): 시스템 CRUD, 채팅 조회, RAG 업로드, JWT 발급 |
| chat-gateway/ | 채팅 API 게이트웨이: Dify 프록시, /chat, /v1/chat, /v1/conversations |
| rag/ | RAG 스택: Qdrant, Ingestion Job/CronJob, RAG Backend (CoinTutor, DrillQuiz) |
| dify/ | Dify Helm 차트·앱 설정 |
| ingress-nginx/ | NGINX Ingress Controller, cert-manager, TLS |
| minio/ | MinIO 설치, rag-docs 버킷 |
| docs/ | 설계 문서, 연동 가이드 |

**스크립트·설치**  
• bootstrap.sh: 전체 진입점 (Ingress→MinIO→RAG→Dify). chat-admin·gateway 제외  
• rag/install.sh: RAG 스택만 설치·재설치  
• chat-admin/ci/, chat-gateway/ci/: k8s.sh, 매니페스트 등 배포용

**RAG·토픽별**: rag/cointutor/, rag/drillquiz/ — Backend·Ingestion YAML. rag/scripts/ingest.py — 인제스트 스크립트

---

## 발표 노트

tz-chatbot 저장소의 디렉터리 구조를 보면, 나중에 설치나 설정을 바꿀 때 어디를 보면 되는지 파악하기 쉽습니다.

루트 기준으로 보면, chat-admin은 관리 UI로 Vue와 FastAPI로 되어 있고 시스템 CRUD, 채팅 조회, RAG 파일 업로드, 앱 등록과 JWT 발급을 담당합니다. chat-gateway는 채팅 API 게이트웨이로 Dify로 프록시하고, /chat, /v1/chat, /v1/conversations를 제공합니다. rag 폴더에는 RAG 스택 전체, 즉 Qdrant, Ingestion용 Job과 CronJob, CoinTutor·DrillQuiz용 RAG Backend가 들어 있습니다. dify 폴더에는 Dify Helm 차트와 앱 설정, ingress-nginx에는 NGINX Ingress Controller와 cert-manager, TLS 설정, minio에는 MinIO 설치와 rag-docs 버킷 관련 내용이 있습니다. docs에는 rag-multi-topic이나 chat-admin-cointutor 같은 설계·연동 가이드가 있습니다.

설치와 관련해서는 bootstrap.sh가 전체 설치의 진입점입니다. Ingress, MinIO, RAG, Dify 순으로 적용하고, chat-admin과 chat-gateway는 포함하지 않습니다. RAG만 다시 설치하거나 재설치할 때는 rag/install.sh를 사용합니다. chat-admin과 chat-gateway는 각각 ci 폴더에 k8s.sh와 K8s 매니페스트가 있어서 여기서 배포를 진행합니다.

RAG와 토픽별로는 rag 아래에 cointutor, drillquiz 폴더가 있고, 각각 해당 토픽의 RAG Backend YAML과 Ingestion Job·CronJob이 있습니다. rag/scripts/ingest.py는 MinIO에서 읽어서 LangChain으로 로드·분할·임베딩한 뒤 Qdrant에 넣는 인제스트 스크립트입니다. 이 구조를 알아두면 실습이나 커스터마이징 시 경로를 찾기 수월합니다.
