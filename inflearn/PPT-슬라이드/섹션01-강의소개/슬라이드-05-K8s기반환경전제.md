# 슬라이드 05: K8s 기반 환경 전제

## 슬라이드 내용 (한 장)

**모든 컴포넌트가 K8s에서 동작**

| 컴포넌트 | K8s 리소스 | 네임스페이스 예 |
|----------|------------|-----------------|
| Ingress | Ingress, cert-manager | default |
| MinIO | Deployment/StatefulSet, Service | devops |
| Qdrant | Helm, PVC | rag |
| RAG Backend | Deployment, Service | rag |
| RAG Ingestion | Job, CronJob | rag |
| Dify | Helm | dify |
| chat-gateway / chat-admin | Deployment, Service | devops |

**필요한 도구·환경**
• kubectl 설치·클러스터 접속 가능  
• KUBECONFIG 설정  
• (선택) Helm, Git  

**참고**: gateway.sh, admin.sh 로컬 실행은 동작 확인·개발용. 실서비스는 모두 K8s 배포. 클러스터 직접 구축은 본 강의 범위 밖.

---

## 발표 노트

이 슬라이드는 이 강의의 전제 조건을 정리한 것입니다. 앞에서도 말씀드렸지만, 모든 컴포넌트가 K8s에서 동작합니다.

Ingress는 TLS 라우팅을 위해 default 네임스페이스에 Ingress 리소스와 cert-manager를 둡니다. MinIO는 객체 저장소로, devops 네임스페이스에 Deployment나 StatefulSet, Service로 올라가고 rag-docs 버킷을 사용합니다. Qdrant는 벡터 DB로 Helm으로 설치하고, rag 네임스페이스에 있습니다. RAG Backend는 토픽별로 CoinTutor, DrillQuiz용 Deployment와 Service가 rag 네임스페이스에 있고, RAG Ingestion은 Job과 CronJob으로 같은 rag 네임스페이스에서 MinIO에서 읽어서 임베딩 후 Qdrant에 넣는 작업을 합니다. Dify는 dify 네임스페이스에 Helm으로 설치되고, chat-gateway와 chat-admin은 devops 네임스페이스에 Deployment와 Service로 배포됩니다.

따라서 수강하시는 분께서는 kubectl이 설치되어 있고 클러스터에 접속할 수 있어야 합니다. KUBECONFIG가 사용하실 클러스터를 가리키도록 설정되어 있어야 하고, Dify나 Qdrant 설치 시 Helm을 쓰실 수 있으면 좋고, 저장소 클론이나 브랜치 사용을 위해 Git이 있으면 됩니다.

한 가지 더 말씀드리면, 로컬에서 gateway.sh나 admin.sh로 실행하는 것은 동작 확인이나 개발용이고, 실제 서비스는 모두 K8s에 배포된다고 보시면 됩니다. 그리고 Kubernetes 클러스터를 직접 구축하는 방법은 이 강의 범위 밖입니다. 예를 들어 "바로 쓰는 CI/CD on K8S" 같은 별도 강의를 참고하시면 됩니다. 이 전제를 만족하시면 섹션 5, 환경 준비부터 실습을 진행하실 수 있습니다.
