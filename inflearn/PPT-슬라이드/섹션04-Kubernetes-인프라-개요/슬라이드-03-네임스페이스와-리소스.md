# 슬라이드 03: 네임스페이스와 리소스

## 슬라이드 내용 (한 장)

**사용 네임스페이스**

| NS | 주요 리소스 |
|----|-------------|
| default | Ingress NGINX, cert-manager |
| devops | MinIO, chat-gateway, chat-admin, PostgreSQL(별도 시) |
| rag | Qdrant, RAG Backend, Ingestion(Job/CronJob), ConfigMap/Secret |
| dify | Dify Helm (API, Worker 등) |

**리소스 종류 요약**  
• Deployment/StatefulSet: Pod 템플릿·replica (Backend, Dify, gateway, admin)  
• Service: Pod 그룹 접근 (ClusterIP, LoadBalancer 등)  
• Ingress: HTTP/HTTPS 라우팅 (호스트·경로→Service)  
• ConfigMap/Secret: 설정·비밀값 (Ingestion MinIO/Qdrant/API Key 등)  
• Job/CronJob: RAG Ingestion 1회 또는 주기 실행  

• 브랜치별 devops / devops-dev / devops-qa 등은 섹션 12(개발/운영 환경 가이드)에서 다룸

---

## 발표 노트

tz-chatbot에서 사용하는 네임스페이스와 리소스 종류를 정리하겠습니다.

네임스페이스는 네 개를 씁니다. default에는 Ingress NGINX와 cert-manager 관련 리소스가 들어갑니다. devops에는 MinIO, chat-gateway, chat-admin을 배포할 때 넣고, PostgreSQL을 별도로 설치했다면 여기 올라갈 수 있습니다. rag 네임스페이스에는 Qdrant, RAG Backend Deployment, RAG Ingestion용 Job과 CronJob, 그리고 ConfigMap·Secret이 들어갑니다. dify 네임스페이스에는 Dify Helm 릴리스, 즉 API 서버나 Worker 같은 Pod들이 올라갑니다.

리소스 종류를 보면, Deployment나 StatefulSet은 Pod 템플릿과 replica 수를 정의합니다. RAG Backend, Dify, chat-gateway, chat-admin이 여기 해당합니다. Service는 Pod 그룹에 대한 내부나 외부 접근을 제공하고, ClusterIP나 LoadBalancer 타입을 씁니다. Ingress는 HTTP·HTTPS 라우팅 규칙으로, 어떤 호스트·경로를 어떤 Service로 보낼지 정의합니다. ConfigMap과 Secret은 설정값이랑 비밀값인데, Ingestion에서 쓰는 MinIO·Qdrant 접속 정보나 API Key 등이 여기 들어갑니다. Job과 CronJob은 RAG Ingestion을 한 번 실행하거나 주기적으로 실행할 때 씁니다.

브랜치별로 devops, devops-dev, devops-qa처럼 네임스페이스를 나누어 쓰는 경우는 섹션 12 개발·운영 환경 가이드에서 다룹니다.
