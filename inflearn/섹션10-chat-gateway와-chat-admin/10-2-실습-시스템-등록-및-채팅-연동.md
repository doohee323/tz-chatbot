# 10-2. 실습: 시스템 등록 및 채팅 연동

## 목표

- chat-admin에서 새 시스템(앱)을 등록하고, Dify URL·API Key를 설정한 뒤, 채팅 페이지·API로 연동이 되는지 확인합니다.

## 단계

### 1. 관리자 로그인

- chat-admin URL 접속 → 회원가입 또는 로그인

### 2. 시스템(앱) 등록

- “시스템 추가” 또는 “앱 등록” 메뉴에서 **system_id**(예: drillquiz, cointutor) 입력
- **Dify Base URL**, **Dify API Key** (해당 Dify 앱의 API Key) 설정
- (있으면) 챗봇 토큰·allowed_origins 등 저장

### 3. 테스트 토큰 발급

- 등록한 시스템에 대해 “테스트 토큰” 또는 “JWT 발급” 기능으로 URL 복사
- 브라우저에서 해당 URL(`/chat?token=...`) 열어 채팅 페이지가 뜨는지 확인

### 4. API 연동 확인 (선택)

- 클라이언트 앱(DrillQuiz/CoinTutor)에서 같은 CHAT_GATEWAY_JWT_SECRET으로 JWT 발급 후 gateway `/chat` 또는 `/v1/chat` 호출
- system_id·user_id가 등록한 시스템과 일치하는지 확인

### 5. RAG 업로드·재색인 (선택)

- 해당 시스템(system_id)으로 RAG 파일 업로드 후 “재색인” 트리거
- 채팅에서 RAG 기반 답변이 나오는지 확인

이렇게 하면 복수 앱에 챗봇을 적용하는 전체 흐름을 한 번 경험할 수 있습니다.
