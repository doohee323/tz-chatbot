# 01. 토픽 분리 전략

## 왜 토픽을 나누는가

- **CoinTutor**와 **DrillQuiz**는 서로 다른 지식 베이스(문서)·용도를 가집니다.
- 한 컬렉션에 섞어 넣으면 검색 시 서로 무관한 문서가 나올 수 있고, Dify 앱별로 “어떤 지식만 쓸지” 구분하기 어렵습니다.
- 따라서 **토픽별로 MinIO 경로·Qdrant 컬렉션·RAG Backend·Ingestion**을 분리합니다.

## 분리 전략 요약 (docs/rag-multi-topic.md 기준)

| 항목 | CoinTutor | DrillQuiz |
|------|-----------|-----------|
| MinIO 경로 | `rag-docs/raw/cointutor/` | `rag-docs/raw/drillquiz/` |
| Qdrant 컬렉션 | `rag_docs_cointutor` | `rag_docs_drillquiz` |
| Ingestion Job/CronJob | 별도 YAML (MINIO_PREFIX, QDRANT_COLLECTION) | 별도 YAML |
| RAG Backend | rag-backend (Deployment) | rag-backend-drillquiz (Deployment) |
| Dify 도구 URL | Backend Service URL (CoinTutor) | Backend Service URL (DrillQuiz) |

- **한 버킷(rag-docs)** 안에 **경로만** 나누고, **컬렉션·Backend**를 토픽별로 완전 분리하는 방식입니다.
