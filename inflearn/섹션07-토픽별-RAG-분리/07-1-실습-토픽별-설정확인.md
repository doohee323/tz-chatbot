# 07-1. 실습: 토픽별 설정 확인

## 목표

- MinIO 경로·Qdrant 컬렉션·RAG Backend·Ingestion Job/CronJob이 토픽별로 어떻게 설정되어 있는지 확인합니다.

## 단계

### 1. RAG Backend Deployment 환경변수 확인

```bash
kubectl get deployment rag-backend -n rag -o yaml | grep -A5 "QDRANT_COLLECTION"
kubectl get deployment rag-backend-drillquiz -n rag -o yaml | grep -A5 "QDRANT_COLLECTION"
```

- rag-backend → `rag_docs_cointutor`, rag-backend-drillquiz → `rag_docs_drillquiz` 인지 확인

### 2. Ingestion Job/CronJob 환경변수 확인

```bash
kubectl get cronjob rag-ingestion-cronjob-cointutor -n rag -o yaml | grep -E "MINIO_PREFIX|QDRANT_COLLECTION"
kubectl get cronjob rag-ingestion-cronjob-drillquiz -n rag -o yaml | grep -E "MINIO_PREFIX|QDRANT_COLLECTION"
```

- cointutor → `raw/cointutor/`, `rag_docs_cointutor`
- drillquiz → `raw/drillquiz/`, `rag_docs_drillquiz` 인지 확인

### 3. MinIO 경로 (선택)

- MinIO 콘솔 또는 mc(multipart)로 `rag-docs` 버킷 내 `raw/cointutor/`, `raw/drillquiz/` 디렉터리 존재 여부 확인
- 관리 화면(chat-admin)에서 업로드 시 토픽(system_id)에 따라 해당 경로로 들어가는지 확인

### 4. 정리

- 위 설정이 계획대로라면, 다음 실습(07-2: 재색인 실행)에서 토픽별로 Ingestion Job을 한 번 실행해 볼 수 있습니다.
