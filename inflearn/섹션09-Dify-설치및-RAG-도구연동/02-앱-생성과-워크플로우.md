# 02. 앱 생성과 워크플로우

## Dify에서 앱이란

- **챗봇** 또는 **워크플로우** 형태의 “앱”을 하나씩 만듦
- 각 앱은 **프롬프트·LLM·도구(Tool)** 를 조합해 동작
- tz-chatbot에서는 **DrillQuiz용 앱**, **CoinTutor용 앱**을 각각 만들고, 각각에 RAG 도구 URL을 연결합니다

## 워크플로우 예

- **시작** → **챗봇** 노드(LLM + 도구) → **끝**
- 도구 노드: “지식 검색” 같은 **HTTP 도구**를 추가하고, URL을 RAG Backend의 `/query` 등으로 설정
- 사용자 메시지는 chat-gateway를 통해 Dify API로 전달되고, Dify가 해당 앱의 워크플로우를 실행

## 앱별 설정

- **DrillQuiz 앱**: RAG 도구 URL = `http://rag-backend-drillquiz.rag.svc.cluster.local:8000/query`
- **CoinTutor 앱**: RAG 도구 URL = `http://rag-backend.rag.svc.cluster.local:8000/query`
- K8s 클러스터 **내부**에서만 호출되므로 위와 같은 Service DNS를 사용합니다. Ingress 경로가 아님.
