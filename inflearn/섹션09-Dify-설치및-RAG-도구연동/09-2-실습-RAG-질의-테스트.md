# 09-2. 실습: RAG 질의 테스트

## 목표

- Dify 앱을 통해 RAG가 호출되고, 업로드한 문서 내용이 답변에 반영되는지 확인합니다.

## 전제

- Dify 앱에 RAG 도구 URL 설정 완료
- 해당 토픽 MinIO에 문서 업로드 후 Ingestion 완료 (섹션 08 실습)
- chat-gateway에서 Dify API Key 설정 후 채팅 가능 (또는 Dify 웹 UI에서 직접 채팅)

## 단계

### 1. Dify 웹 UI에서 테스트

- 해당 앱의 “대화” 또는 “테스트” 화면에서 질문 입력
- RAG에 넣은 문서 내용과 관련된 질문을 하면, 도구가 호출되고 검색 결과가 LLM 컨텍스트에 포함되어 답변이 나와야 함

### 2. chat-gateway 경유 테스트 (선택)

- JWT 발급 후 `/chat?token=...` 또는 API로 메시지 전송
- system_id를 해당 Dify 앱과 매핑된 값으로 두고, 동일한 질문으로 응답 확인

### 3. 확인 사항

- [ ] 도구 호출 로그가 Dify 또는 Backend 쪽에 보이는지
- [ ] 답변에 문서 기반 내용이 포함되는지
- [ ] 잘못된 URL이면 타임아웃·5xx 등이 나오므로, URL·네트워크를 다시 확인

이후 섹션 10에서 chat-gateway·chat-admin 배포·시스템 등록으로 실제 서비스 흐름을 완성합니다.
