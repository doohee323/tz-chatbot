# 03. 디렉터리 구조

tz-chatbot 저장소의 주요 디렉터리와 역할입니다.

## 루트 기준 구조

| 디렉터리 | 설명 |
|----------|------|
| `chat-admin/` | 관리 UI (Vue + FastAPI): 시스템 CRUD, 채팅 조회, RAG 파일 업로드. 앱 등록·JWT 발급 |
| `chat-gateway/` | 채팅 API 게이트웨이: Dify 프록시, 대화 관리. `/chat`, `/v1/chat`, `/v1/conversations` 제공 |
| `rag/` | RAG 스택: Qdrant, Ingestion Job/CronJob, RAG Backend (CoinTutor, DrillQuiz) |
| `dify/` | Dify Helm 차트 및 앱 설정 (DrillQuiz, CoinTutor) |
| `ingress-nginx/` | NGINX Ingress Controller, cert-manager, TLS |
| `minio/` | MinIO 설치 (RAG 문서 저장용, `rag-docs` 버킷) |
| `docs/` | 설계 문서, 연동 가이드 (rag-multi-topic, chat-admin-cointutor 등) |

## 스크립트·설치

- **`bootstrap.sh`**: 전체 설치 진입점. Ingress → MinIO → RAG → Dify 순으로 적용 (chat-admin·chat-gateway 제외)
- **`rag/install.sh`**: RAG 스택만 설치·재설치 시 사용
- **`chat-admin/ci/`**, **`chat-gateway/ci/`**: K8s 매니페스트, k8s.sh 등 배포용

## RAG·토픽별 폴더

- **`rag/cointutor/`**: CoinTutor용 RAG Backend YAML, Ingestion Job/CronJob
- **`rag/drillquiz/`**: DrillQuiz용 RAG Backend YAML, Ingestion Job/CronJob
- **`rag/scripts/ingest.py`**: MinIO → LangChain Loader/Splitter/Embedding → Qdrant 인제스트 스크립트

**본 강의 범위에서 제외**: 저장소에는 `n8n/`, `workflows/` 등이 있으나, 이 강의에서는 RAG·Dify·chat-gateway·chat-admin 중심으로만 다룹니다.

이 구조를 알면 “설치·설정을 바꾸고 싶을 때 어디를 보면 되는지” 파악하기 쉬워집니다.
