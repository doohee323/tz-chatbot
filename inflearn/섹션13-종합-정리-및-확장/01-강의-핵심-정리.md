# 01. 강의 핵심 정리

## 환경 전제

- **전체가 Kubernetes(K8s) 기반**: RAG, Dify, chat-gateway, chat-admin, MinIO, Qdrant, Ingress가 모두 K8s 위에서 동작합니다.

## 구성 요소

- **RAG**: MinIO(문서) → Ingestion(청킹·임베딩, LangChain) → Qdrant(벡터 DB) → RAG Backend(검색 API) → Dify(도구 호출)
- **Dify**: 챗봇·워크플로우·RAG 도구 URL 연동
- **chat-gateway**: 복수 앱의 채팅 진입점, JWT·API Key, Dify 프록시, DB 저장
- **chat-admin**: 시스템(앱) CRUD, 채팅 조회, RAG 업로드·재색인 트리거
- **DB·배치**: chat_admin DB로 시스템·대화 관리, /v1/sync·CronJob으로 동기화·재색인

## 설치·운영 흐름

1. bootstrap.sh: Ingress → MinIO → RAG → Dify
2. RAG Secret 생성, DB(chat_admin) 생성
3. chat-admin·chat-gateway 배포(CI/Jenkins)
4. Dify 앱·도구 URL 설정, 관리 화면에서 시스템 등록
5. Ingress·TLS·도메인, 필요 시 HPA·스케일링

## 복수 프로젝트 지원

- 단일 RAG·Dify가 아니라 **여러 앱(DrillQuiz, CoinTutor 등)** 에 챗봇을 붙이기 위한 **DB·배치·관리 화면** 구조를 이해하고 적용할 수 있게 되었습니다.
